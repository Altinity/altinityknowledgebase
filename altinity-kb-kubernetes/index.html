<!doctype html><html itemscope itemtype=http://schema.org/WebPage lang=en class=no-js><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><link rel=alternate type=text/html href=http://kb.altinity.com/altinity-kb-kubernetes/printview/><meta name=robots content="index, follow"><link rel="shortcut icon" href=/favicons/favicon.ico><link rel=icon href=/favicons/favicon.ico><title>Using the Altinity Kubernetes Operator for ClickHouse® | Altinity® Knowledge Base for ClickHouse®</title>
<meta name=description content="Run ClickHouse® in Kubernetes without any issues.
"><meta property="og:url" content="http://kb.altinity.com/altinity-kb-kubernetes/"><meta property="og:site_name" content="Altinity® Knowledge Base for ClickHouse®"><meta property="og:title" content="Using the Altinity Kubernetes Operator for ClickHouse®"><meta property="og:description" content="Run ClickHouse® in Kubernetes without any issues."><meta property="og:locale" content="en"><meta property="og:type" content="website"><meta itemprop=name content="Using the Altinity Kubernetes Operator for ClickHouse®"><meta itemprop=description content="Run ClickHouse® in Kubernetes without any issues."><meta itemprop=dateModified content="2024-12-03T11:51:05-05:00"><meta itemprop=wordCount content="2050"><meta itemprop=keywords content="clickhouse in kubernetes,kubernetes issues,ALtinity Kubernetes operator for ClickHouse"><meta name=twitter:card content="summary"><meta name=twitter:title content="Using the Altinity Kubernetes Operator for ClickHouse®"><meta name=twitter:description content="Run ClickHouse® in Kubernetes without any issues."><link rel=preload href=/scss/main.min.10f29ebcf80a650ac763f904f53e25ddad49c874d72279a3e2123ef3e2c93426.css as=style><link href=/scss/main.min.10f29ebcf80a650ac763f904f53e25ddad49c874d72279a3e2123ef3e2c93426.css rel=stylesheet integrity><script src=https://code.jquery.com/jquery-3.7.1.min.js integrity="sha512-v2CJ7UaYy4JwqLDIrZUI/4hqeoQieOmAZNXBeQyjo21dadnwR+8ZaIJVT8EE2iyI61OV8e6M8PP2/4hpQINQ/g==" crossorigin=anonymous></script><script defer src=https://unpkg.com/lunr@2.3.9/lunr.min.js integrity=sha384-203J0SNzyqHby3iU6hzvzltrWi/M41wOP5Gu+BiJMz5nwKykbkUx8Kp7iti0Lpli crossorigin=anonymous></script><link rel=stylesheet href=/css/prism.css><meta name=keywords content="clickhouse in kubernetes,kubernetes issues,ALtinity Kubernetes operator for ClickHouse"><script type=text/javascript id=hs-script-loader async defer src=//js.hs-scripts.com/4536206.js></script><script type=text/javascript>(function(e,t,n,s,o,i,a){e[n]=e[n]||function(){(e[n].q=e[n].q||[]).push(arguments)},i=t.createElement(s),i.async=1,i.src="https://www.clarity.ms/tag/"+o,a=t.getElementsByTagName(s)[0],a.parentNode.insertBefore(i,a)})(window,document,"clarity","script","v7y63vmran")</script></head><body class=td-section><header><nav class="js-navbar-scroll navbar navbar-expand-xl navbar-dark"><a class=navbar-brand href=https://altinity.com target=_blank><span class=navbar-logo><img src=/images/general/altinity-logo_horizontal_blue_white.svg width=154 alt=Altinity.com></span>
</a><button class="navbar-toggler ml-auto" type=button data-bs-toggle=collapse data-bs-target=#mobile_navbar aria-controls=mobile_navbar aria-expanded=false aria-label="Toggle navigation">
<span class=navbar-toggler-icon></span></button><div class="td-navbar-nav-scroll w-100 d-none d-xl-block" id=main_navbar><ul class="navbar-nav mt-2 mt-lg-0"><li class="nav-item dropdown position-static"><a class="nav-link dropdown-toggle" href=# id=productsDropdown role=button data-bs-toggle=dropdown aria-haspopup=true aria-expanded=false>Products</a><ul class="dropdown-menu list-unstyled w-100 mega-menu" aria-labelledby=navbarDropdown><li><div class=grid-row style="grid-template-columns:35% 35% 30%"><div><h5 style=margin-bottom:15px>PRODUCTS</h5><div><div class=sub-section-header>Altinity.Cloud</div><div class=sub_links style="display:grid;grid-template-columns:50% 50%;margin-bottom:15px"><div><a href=https://altinity.com/managed-clickhouse/ id=nav_products_cloud class=med-link>Managed cloud</a><div class=desc>Deploy on Altinity’s cloud</div></div><div><a href=https://altinity.com/managed-clickhouse/bring-your-own-cloud/ id=nav_products_byoc class=med-link>Bring your own cloud</a><div class=desc>Any region, any environment</div></div></div><div class=sub_links style="display:grid;grid-template-columns:50% 50%;margin-bottom:20px"><div><a href=https://altinity.com/altinity-cloud-vs-clickhouse-cloud-faq id=nav_products_comparison><i class="fas fa-table text-primary"></i> Vendor comparison </a></div><div><a href=https://altinity.com/clickhouse-pricing/ id=nav_products_pricing><i class="fas fa-dollar-sign text-primary"></i> Pricing </a></div></div></div><div><div class=sub-section-header>Support for ClickHouse<sup>®</sup></div><a href=https://altinity.com/clickhouse-support/ id=nav_products_support class=med-link style=margin-bottom:10px>24/7 Support</a><br><a href=https://altinity.com/poc-evaluation-support/ id=nav_products_poc_evaluative_support class=med-link style=margin-bottom:10px>POC and Evaluative Support</a><br><a href=https://altinity.com/clickhouse-training/ id=nav_products_training class=med-link style=margin-bottom:10px>Training for ClickHouse<sup>®</sup></a><br></div></div><div style="border-left:1px solid rgba(255,255,255,.3);padding-left:30px"><h5 style=margin-bottom:15px>OPEN SOURCE SOFTWARE</h5><div style="margin-left:-10px;padding:5px 5px 5px 10px;margin-bottom:5px;background:rgba(24,157,208,.5);border-radius:8px"><a href=https://altinity.com/project-antalya-real-time-data-lakes/ id=nav_products_antalya_builds>NEW Project Antalya Builds </a><br><div class=desc style=margin-bottom:0>Scale ClickHouse queries infinitely with 10X cheaper data lakes</div></div><a href=https://altinity.com/altinity-stable/ id=nav_products_stable_builds>Altinity Stable Builds for ClickHouse<sup>®</sup> </a><br><div class=desc style=margin-bottom:15px>LTS-certified binaries with 3 years’ support</div><a href=https://altinity.com/kubernetes-operator/ id=nav_products_kubernetes>Altinity Kubernetes Operator for ClickHouse<sup>®</sup> </a><br><div class=desc style=margin-bottom:15px>Manage ClickHouse clusters on Kubernetes effortlessly</div><a href=https://altinity.com/altinity-backup-for-clickhouse/ id=nav_products_backup>Altinity Backup for ClickHouse<sup>®</sup> </a><br><div class=desc style=margin-bottom:15px>Simple backup and restore tool for ClickHouse</div><a href=https://altinity.com/ecosystem/>See more > </a></div><div style="border-left:1px solid rgba(255,255,255,.3);padding-left:30px"><h5 style=margin-bottom:15px>CLICKHOUSE<sup>®</sup> SOLUTIONS</h5><a href=https://altinity.com/observability-and-logging/ id=nav_observability>Observability & Logging </a><br><div class=desc style=margin-bottom:15px>Manage high-volume observability data efficiently</div><a href=https://altinity.com/security-information-and-event-management/ id=nav_siem>Security Information and Event Management (SIEM) </a><br><div class=desc style=margin-bottom:15px>Efficiently process and analyze high-volume security events</div><a href=https://altinity.com/trading-systems/ id=nav_trading_systems>Trading Analytics </a><br><div class=desc style=margin-bottom:15px>Make faster market decisions</div></div></div><div class=grid-row style="grid-template-columns:33% 60%;border-top:1px solid rgba(255,255,255,.3)"><div><a href=https://altinity.com/customer-stories/ id=nav_products_customer_stories>Customer stories </a><br><div class=desc>See why our customers love us</div></div><div><a href=https://altinity.com/plans-and-features-clickhouse/ id=nav_products_plans_features>Altinity Plans and Features </a><br><div class=desc>Managed service or support? Compare plans and features</div></div></div></li></ul></li><li class="nav-item dropdown position-static"><a class="nav-link dropdown-toggle" href=# id=resourceDropdown role=button data-bs-toggle=dropdown aria-haspopup=true aria-expanded=false>Resources</a><ul class="dropdown-menu list-unstyled w-100 mega-menu" aria-labelledby=navbarDropdown><li><div class=grid-row><div><p class=col-header>Developer Center</p><div><a href=https://docs.altinity.com/ target=_blank id=nav_resources_docs>Documentation </a><div class=desc>Product guides and tutorials</div><br></div><div><a href=https://kb.altinity.com/ target=_blank id=nav_resources_knowledgebase>Knowledge Base </a><div class=desc>Answers to common questions and issues</div><br></div><div><a href="https://altinity.com/blog/?cat=webinarspage" target=_blank id=nav_resources_webinars>Past Webinars </a><div class=desc>Watch anytime, on demand.</div><br></div><div><a href=https://altinity.com/developer-resources/ id=nav_resources_dev_resources>More Technical Content </a><div class=desc>How-to guides and videos</div><br></div></div><div><p class=col-header>Learning</p><div><a href=https://altinity.com/clickhouse-database/ id=nav_resources_what_is_ch>What is ClickHouse? </a><div class=desc>New to ClickHouse? Start here</div><br></div><div><a href=https://altinity.com/kubernetes-operator/ id=nav_resources_k8s_operator>Kubernetes Operator </a><div class=desc>Learn how it works and who uses it</div><br></div><div><a href=https://altinity.com/unevenly-distributed/ id=nav_unevenlydistributed>Unevenly Distributed </a><div class=desc>A Thought Leadership Series on Real-Time Data Lakes</div><br></div><div><a href=https://altinity.com/altinity-stable/ id=nav_resources_stable>Altinity Stable Builds </a><div class=desc>Learn why you should be using them in your prod environments</div><br></div></div><div><p class=col-header>Community</p><div><a href=https://altinity.com/ecosystem/ id=nav_resources_open_source>Open Source at Altinity </a><div class=desc>Explore our open source projects and contributions</div><br></div><div><a href=https://altinity.com/events/ id=nav_resources_events>Events </a><div class=desc>Upcoming conferences, events, and webinars</div><br></div><div><a href=https://altinity.com/slack/ target=_blank id=nav_resources_slack>Slack Community </a><div class=desc>Get help for any ClickHouse issue from experts</div><br></div><div><a href=https://altinity.com/office-hours-for-clickhouse/ id=nav_resources_office_hours>Monthly Office Hours </a><div class=desc>Meet our engineers live and ask your questions</div><br></div></div></div></li></ul></li><li class=nav-item><a class=nav-link href=https://altinity.com/blog target=_blank>Blog</a></li><li class="nav-item dropdown position-static"><a class="nav-link dropdown-toggle" href=# id=companyDropdown role=button data-bs-toggle=dropdown aria-haspopup=true aria-expanded=false>Company</a><ul class="dropdown-menu list-unstyled w-100 mega-menu" aria-labelledby=navbarDropdown><li><div class=grid-row><div><div><a href=https://altinity.com/about-us/ id=nav_company_about>About the company  </a></div><div><a href=https://altinity.com/about-us/#leadership id=nav_company_leadership>Leadership </a></div></div><div><div><a href=https://altinity.com/about-us/press-releases/ id=nav_company_press>Press Releases </a></div><div><a href=https://altinity.com/partners/ id=nav_company_partners>Partners </a></div></div><div><div><a href=https://altinity.com/customer-stories/ id=nav_company_customer_stories>Customer Stories </a></div><div><a href=https://altinity.com/careers/ id=nav_company_careers>Careers </a></div></div><div class=mega-bg-blue><div><h5>Get in touch with ClickHouse experts.</h5><a href=https://altinity.com/contact class="btn btn-primary button">Contact Us </a></div></div></div></li></ul></li><li class=nav-item><a class=nav-link href=https://altinity.com/contact target=_blank>Contact</a></li><li class="header-social-wrap ml-md-auto"><a class=navbar-button href=https://altinity.com/free-clickhouse-consultation/ target=_blank>Tech Support</a>
<a class=navbar-button href=https://acm.altinity.cloud/signup target=_blank style=margin-right:15px>ClickHouse® in Cloud</a>
<a href=https://www.youtube.com/@Altinity aria-label=Slack target=_blank rel="noopener noreferrer" class="social-button header-social-item"><span class=social-icon-custom-svg style=max-width:34px><svg fill="currentcolor" xmlns="http://www.w3.org/2000/svg" width="28" height="28" viewBox="0 0 28 28"><title>YouTube</title><path d="M11.109 17.625l7.562-3.906-7.562-3.953v7.859zM14 4.156c5.891.0 9.797.281 9.797.281.547.063 1.75.063 2.812 1.188.0.0.859.844 1.109 2.781.297 2.266.281 4.531.281 4.531v2.125s.016 2.266-.281 4.531c-.25 1.922-1.109 2.781-1.109 2.781-1.062 1.109-2.266 1.109-2.812 1.172.0.0-3.906.297-9.797.297v0c-7.281-.063-9.516-.281-9.516-.281-.625-.109-2.031-.078-3.094-1.188.0.0-.859-.859-1.109-2.781-.297-2.266-.281-4.531-.281-4.531v-2.125s-.016-2.266.281-4.531C.531 6.469 1.39 5.625 1.39 5.625 2.452 4.5 3.656 4.5 4.202 4.437c0 0 3.906-.281 9.797-.281v0z"/></svg>
</span></a><a href=https://altinity.com/slack/ aria-label=Slack target=_blank rel="noopener noreferrer" class="social-button header-social-item"><span class=social-icon-custom-svg style=max-width:34px><svg viewBox="0 0 36 36" height="24" width="24" xmlns="http://www.w3.org/2000/svg"><path fill="currentcolor" d="M7.563 22.747a3.782 3.782.0 11-3.78-3.78h3.78v3.78zm1.906.0a3.782 3.782.0 017.563.0v9.469a3.782 3.782.0 11-7.563.0V22.747zM13.251 7.563a3.782 3.782.0 113.782-3.78v3.78H13.251zm0 1.906a3.781 3.781.0 110 7.563H3.783a3.782 3.782.0 110-7.563h9.468zm15.183 3.782a3.783 3.783.0 113.783 3.782H28.434V13.251zm-1.9.0a3.782 3.782.0 01-7.565.0V3.783a3.782 3.782.0 117.564.0zM22.747 28.434a3.783 3.783.0 11-3.78 3.783V28.434h3.78zm0-1.9a3.782 3.782.0 010-7.565h9.469a3.782 3.782.0 110 7.564z" data-name="Icon simple-slack" id="Icon_simple-slack"/></svg>
</span></a><a href=https://github.com/altinity/ aria-label=GitHub target=_blank rel="noopener noreferrer" class="social-button header-social-item"><svg fill="currentcolor" xmlns="http://www.w3.org/2000/svg" width="24" height="28" viewBox="0 0 24 28"><title>Github</title><path d="M12 2c6.625.0 12 5.375 12 12 0 5.297-3.437 9.797-8.203 11.391-.609.109-.828-.266-.828-.578.0-.391.016-1.687.016-3.297.0-1.125-.375-1.844-.812-2.219 2.672-.297 5.484-1.313 5.484-5.922.0-1.313-.469-2.375-1.234-3.219.125-.313.531-1.531-.125-3.187-1-.313-3.297 1.234-3.297 1.234-.953-.266-1.984-.406-3-.406s-2.047.141-3 .406c0 0-2.297-1.547-3.297-1.234-.656 1.656-.25 2.875-.125 3.187-.766.844-1.234 1.906-1.234 3.219.0 4.594 2.797 5.625 5.469 5.922-.344.313-.656.844-.766 1.609-.688.313-2.438.844-3.484-1-.656-1.141-1.844-1.234-1.844-1.234-1.172-.016-.078.734-.078.734.781.359 1.328 1.75 1.328 1.75.703 2.141 4.047 1.422 4.047 1.422.0 1 .016 1.937.016 2.234.0.313-.219.688-.828.578-4.766-1.594-8.203-6.094-8.203-11.391.0-6.625 5.375-12 12-12zM4.547 19.234c.031-.063-.016-.141-.109-.187-.094-.031-.172-.016-.203.031-.031.063.016.141.109.187.078.047.172.031.203-.031zM5.031 19.766c.063-.047.047-.156-.031-.25-.078-.078-.187-.109-.25-.047-.063.047-.047.156.031.25.078.078.187.109.25.047zM5.5 20.469c.078-.063.078-.187.0-.297-.063-.109-.187-.156-.266-.094-.078.047-.078.172.0.281s.203.156.266.109zM6.156 21.125c.063-.063.031-.203-.063-.297-.109-.109-.25-.125-.313-.047-.078.063-.047.203.063.297.109.109.25.125.313.047zM7.047 21.516c.031-.094-.063-.203-.203-.25-.125-.031-.266.016-.297.109s.063.203.203.234c.125.047.266.0.297-.094zM8.031 21.594c0-.109-.125-.187-.266-.172-.141.0-.25.078-.25.172.0.109.109.187.266.172.141.0.25-.078.25-.172zM8.937 21.438c-.016-.094-.141-.156-.281-.141-.141.031-.234.125-.219.234.016.094.141.156.281.125s.234-.125.219-.219z"/></svg></a></li></ul></div></nav><div id=mobile_navbar class="collapse js-navbar-scroll navbar-collapse d-xl-none"><ul class="menu has-collapse-sub-nav"><li class="nav-item nav-item-has-children active"><div class=drawer-nav-drop-wrap><a>Products</a><span class=mobile-drop-toggle></span></div><ul class=sub-menu><li class="nav-item nav-item-has-children"><div class=drawer-nav-drop-wrap><a href=https://altinity.com/managed-clickhouse/>Altinity.Cloud</a><span class=mobile-drop-toggle></span></div><ul class=sub-menu><li class=nav-item><a href=https://altinity.com/clickhouse-pricing/>Pricing for ClickHouse</a></li><li class=nav-item><a href=https://altinity.com/altinity-cloud-vs-clickhouse-cloud-faq/>Altinity.Cloud vs ClickHouse Cloud FAQ</a></li><li class=nav-item><a href=https://altinity.com/clickhouse-support/>Support for ClickHouse</a></li><li class=nav-item><a href=https://altinity.com/clickhouse-training/>Training for ClickHouse</a></li></ul></li><li class="nav-item nav-item-has-children"><div class=drawer-nav-drop-wrap><a href=https://altinity.com/ecosystem/>Open Source Software</a></div><ul class=sub-menu><li class=nav-item><a href=https://altinity.com/project-antalya-real-time-data-lakes/>Project Antalya</a></li><li class=nav-item><a href=https://altinity.com/altinity-stable/>Altinity Stable Builds</a></li><li class=nav-item><a href=https://altinity.com/kubernetes-operator/>Kubernetes Operator</a></li><li class=nav-item><a href=https://altinity.com/altinity-backup-for-clickhouse/>Altinity Backup for ClickHouse</a></li></ul></li><li class="nav-item nav-item-has-children"><div class=drawer-nav-drop-wrap><a>ClickHouse™ Solutions</a><span class=mobile-drop-toggle></span></div><ul class=sub-menu><li class=nav-item><a href=https://altinity.com/observability-and-logging/>Observability & Logging with ClickHouse®</a></li><li class=nav-item><a href=https://altinity.com/security-information-and-event-management/>Security Information and Event Management (SIEM) with ClickHouse®</a></li><li class=nav-item><a href=https://altinity.com/trading-systems/>Trading analytics with ClickHouse®</a></li></ul></li></ul></li><li class="nav-item nav-item-has-children"><div class=drawer-nav-drop-wrap><a>Resources</a></div><ul class=sub-menu><li class="nav-item nav-item-has-children"><div class=drawer-nav-drop-wrap><a href=#>Developer Center</a><span class=mobile-drop-toggle></span></div><ul class=sub-menu><li class=nav-item><a target=_blank href=https://docs.altinity.com/>Documentation</a></li><li class=nav-item><a target=_blank href=https://kb.altinity.com/>Knowledge Base</a></li><li class=nav-item><a href="https://altinity.com/blog/?cat=webinarspage">Past Webinars</a></li><li class=nav-item><a href=https://altinity.com/developer-resources/>Guides and eBooks</a></li></ul></li><li class="nav-item nav-item-has-children"><div class=drawer-nav-drop-wrap><a href=#>Learning</a><span class=mobile-drop-toggle></span></div><ul class=sub-menu><li class=nav-item><a href=https://altinity.com/clickhouse-database/>What is ClickHouse?</a></li><li class=nav-item><a href=https://altinity.com/what-is-kubernetes/>What is Kubernetes?</a></li><li class=nav-item><a href=https://altinity.com/unevenly-distributed/>Unevenly Distributed</a></li><li class=nav-item><a href=https://altinity.com/altinity-stable/>Altinity Stable Builds</a></li></ul></li><li class="nav-item nav-item-has-children"><div class=drawer-nav-drop-wrap><a href=#>Community</a><span class=mobile-drop-toggle></span></div><ul class=sub-menu><li class=nav-item><a href=https://altinity.com/events>Events</a></li><li class="nav-slack nav-item"><a target=_blank href=http://www.localhost:10008/slack>Slack Community</a></li><li class=nav-item><a href=https://altinity.com/office-hours-for-clickhouse/>Office Hours for ClickHouse®</a></li></ul></li></ul></li><li class=nav-item><a href=https://altinity.com/blog>Blog</a></li><li class="nav-item nav-item-has-children"><div class=drawer-nav-drop-wrap><a>Company</a><span class=mobile-drop-toggle></span></div><ul class=sub-menu><li class=nav-item><a href=https://altinity.com/about-us/>About Altinity</a></li><li class=nav-item><a href=https://altinity.com/about-us/#leadership>Leadership</a></li><li class=nav-item><a href=https://altinity.com/about-us/press-releases/>Press Releases</a></li><li class=nav-item><a href=https://altinity.com/partners/>Partners</a></li><li class=nav-item><a href=https://altinity.com/customer-stories/>Customer Stories</a></li><li class=nav-item><a href=https://altinity.com/careers/>Careers</a></li></ul></li><li class=nav-item><a href=https://altinity.com/contact>Contact</a></li><li class="header-nav-button nav-item"><a href=https://altinity.com/free-clickhouse-consultation>Tech Support</a></li><li class="header-nav-button nav-item"><a href="https://acm.altinity.cloud/signup?__hstc=173202428.421802398cbec3b5d6457748d00d825f.1702395478849.1769622795179.1769630357065.395&__hssc=173202428.9.1769630357065&__hsfp=e5063c5ad56e06035f046e27f2ea897a">ClickHouse® in Cloud</a></li></ul></div></header><div class="container-fluid td-outer"><div class=td-main><div class="row flex-xl-nowrap"><aside class="col-12 col-md-3 col-xl-2 td-sidebar d-print-none"><div id=td-sidebar-menu class=td-sidebar__inner><div id=content-mobile><form class="td-sidebar__search d-flex align-items-center"><div class="td-search td-search--offline"><div class=td-search__icon></div><input type=search class="td-search__input form-control" placeholder="Search this site…" aria-label="Search this site…" autocomplete=off data-offline-search-index-json-src=/offline-search-index.e6cd5419df39c732ef261f152f4b1788.json data-offline-search-base-href=/ data-offline-search-max-results=10></div><button class="btn btn-link td-sidebar__toggle d-md-none p-0 ms-3 fas fa-bars" type=button data-bs-toggle=collapse data-bs-target=#td-section-nav aria-controls=td-section-nav aria-expanded=false aria-label="Toggle section navigation"></button></form></div><div id=content-desktop></div><nav class="td-sidebar-nav collapse td-sidebar-nav--search-disabled" id=td-section-nav><ul class="td-sidebar-nav__section pe-md-3 ul-0"><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child active-path" id=m--li><a href=/ class="align-left ps-0 td-sidebar-link td-sidebar-link__section tree-root" id=m-><span>Altinity® Knowledge Base for ClickHouse®</span></a><ul class=ul-1><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-engines-li><a href=/engines/ class="align-left ps-0 td-sidebar-link td-sidebar-link__section" id=m-engines><span>Engines</span></a><ul class="ul-2 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child collapse" id=m-enginesaltinity-kb-atomic-database-engine-li><a href=/engines/altinity-kb-atomic-database-engine/ title="ClickHouse® Atomic Database Engine" class="align-left ps-0 td-sidebar-link td-sidebar-link__section" id=m-enginesaltinity-kb-atomic-database-engine><span>Atomic Database Engine</span></a><ul class="ul-3 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-enginesaltinity-kb-atomic-database-enginehow-to-convert-ordinary-to-atomic-li><a href=/engines/altinity-kb-atomic-database-engine/how-to-convert-ordinary-to-atomic/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-enginesaltinity-kb-atomic-database-enginehow-to-convert-ordinary-to-atomic><span>How to Convert Ordinary to Atomic</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-enginesaltinity-kb-atomic-database-enginealtinity-kb-how-to-convert-atomic-to-ordinary-li><a href=/engines/altinity-kb-atomic-database-engine/altinity-kb-how-to-convert-atomic-to-ordinary/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-enginesaltinity-kb-atomic-database-enginealtinity-kb-how-to-convert-atomic-to-ordinary><span>How to Convert Atomic to Ordinary</span></a></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-enginesaltinity-kb-embeddedrocksdb-and-dictionary-li><a href=/engines/altinity-kb-embeddedrocksdb-and-dictionary/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-enginesaltinity-kb-embeddedrocksdb-and-dictionary><span>EmbeddedRocksDB & dictionary</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child collapse" id=m-enginesmergetree-table-engine-family-li><a href=/engines/mergetree-table-engine-family/ class="align-left ps-0 td-sidebar-link td-sidebar-link__section" id=m-enginesmergetree-table-engine-family><span>MergeTree table engine family</span></a><ul class="ul-3 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-enginesmergetree-table-engine-familycollapsing-vs-replacing-li><a href=/engines/mergetree-table-engine-family/collapsing-vs-replacing/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-enginesmergetree-table-engine-familycollapsing-vs-replacing><span>CollapsingMergeTree vs ReplacingMergeTree</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-enginesmergetree-table-engine-familypart-naming-and-mvcc-li><a href=/engines/mergetree-table-engine-family/part-naming-and-mvcc/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-enginesmergetree-table-engine-familypart-naming-and-mvcc><span>Part names & MVCC</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-enginesmergetree-table-engine-familypick-keys-li><a href=/engines/mergetree-table-engine-family/pick-keys/ title="How to pick an ORDER BY / PRIMARY KEY / PARTITION BY for the MergeTree family table" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-enginesmergetree-table-engine-familypick-keys><span>Properly ordering and partitioning MergeTree tables</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-enginesmergetree-table-engine-familyaggregatingmergetree-li><a href=/engines/mergetree-table-engine-family/aggregatingmergetree/ title="ClickHouse® AggregatingMergeTree" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-enginesmergetree-table-engine-familyaggregatingmergetree><span>AggregatingMergeTree</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-enginesmergetree-table-engine-familyindex-and-column-files-li><a href=/engines/mergetree-table-engine-family/index-and-column-files/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-enginesmergetree-table-engine-familyindex-and-column-files><span>index & column files</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-enginesmergetree-table-engine-familymerge-performance-final-optimize-by-li><a href=/engines/mergetree-table-engine-family/merge-performance-final-optimize-by/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-enginesmergetree-table-engine-familymerge-performance-final-optimize-by><span>Merge performance and OPTIMIZE FINAL</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-enginesmergetree-table-engine-familyaltinity-kb-nulls-in-order-by-li><a href=/engines/mergetree-table-engine-family/altinity-kb-nulls-in-order-by/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-enginesmergetree-table-engine-familyaltinity-kb-nulls-in-order-by><span>Nulls in order by</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child collapse" id=m-enginesmergetree-table-engine-familyreplacingmergetree-li><a href=/engines/mergetree-table-engine-family/replacingmergetree/ class="align-left ps-0 td-sidebar-link td-sidebar-link__section" id=m-enginesmergetree-table-engine-familyreplacingmergetree><span>ReplacingMergeTree</span></a><ul class="ul-4 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-enginesmergetree-table-engine-familyreplacingmergetreealtinity-kb-replacingmergetree-does-not-collapse-duplicates-li><a href=/engines/mergetree-table-engine-family/replacingmergetree/altinity-kb-replacingmergetree-does-not-collapse-duplicates/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-enginesmergetree-table-engine-familyreplacingmergetreealtinity-kb-replacingmergetree-does-not-collapse-duplicates><span>ReplacingMergeTree does not collapse duplicates</span></a></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-enginesmergetree-table-engine-familyskip-index-li><a href=/engines/mergetree-table-engine-family/skip-index/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-enginesmergetree-table-engine-familyskip-index><span>Skip index</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-enginesmergetree-table-engine-familysummingmergetree-li><a href=/engines/mergetree-table-engine-family/summingmergetree/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-enginesmergetree-table-engine-familysummingmergetree><span>SummingMergeTree</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-enginesmergetree-table-engine-familyversioned-collapsing-mergetree-li><a href=/engines/mergetree-table-engine-family/versioned-collapsing-mergetree/ title="UPSERT by VersionedCollapsingMergeTree" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-enginesmergetree-table-engine-familyversioned-collapsing-mergetree><span>VersionedCollapsingMT</span></a></li></ul></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-altinity-kb-queries-and-syntax-li><a href=/altinity-kb-queries-and-syntax/ class="align-left ps-0 td-sidebar-link td-sidebar-link__section" id=m-altinity-kb-queries-and-syntax><span>Queries & Syntax</span></a><ul class="ul-2 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child collapse" id=m-altinity-kb-queries-and-syntaxgroup-by-li><a href=/altinity-kb-queries-and-syntax/group-by/ class="align-left ps-0 td-sidebar-link td-sidebar-link__section" id=m-altinity-kb-queries-and-syntaxgroup-by><span>GROUP BY</span></a><ul class="ul-3 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-altinity-kb-queries-and-syntaxgroup-bytricks-li><a href=/altinity-kb-queries-and-syntax/group-by/tricks/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-altinity-kb-queries-and-syntaxgroup-bytricks><span>GROUP BY tricks</span></a></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-altinity-kb-queries-and-syntaxvariable-partitioning-li><a href=/altinity-kb-queries-and-syntax/variable-partitioning/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-altinity-kb-queries-and-syntaxvariable-partitioning><span>Adjustable table partitioning</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-altinity-kb-queries-and-syntaxdatetime64-li><a href=/altinity-kb-queries-and-syntax/datetime64/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-altinity-kb-queries-and-syntaxdatetime64><span>DateTime64</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-altinity-kb-queries-and-syntaxdistinct-vs-group-by-vs-limit-by-li><a href=/altinity-kb-queries-and-syntax/distinct-vs-group-by-vs-limit-by/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-altinity-kb-queries-and-syntaxdistinct-vs-group-by-vs-limit-by><span>DISTINCT & GROUP BY & LIMIT 1 BY what the difference</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-altinity-kb-queries-and-syntaxliteral-decimal-or-float-li><a href=/altinity-kb-queries-and-syntax/literal-decimal-or-float/ title="Imprecise parsing of literal Decimal or Float64" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-altinity-kb-queries-and-syntaxliteral-decimal-or-float><span>Imprecise literal Decimal or Float64 values</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-altinity-kb-queries-and-syntaxmultiple-date-column-in-partition-key-li><a href=/altinity-kb-queries-and-syntax/multiple-date-column-in-partition-key/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-altinity-kb-queries-and-syntaxmultiple-date-column-in-partition-key><span>Multiple aligned date columns in PARTITION BY expression</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-altinity-kb-queries-and-syntaxrow_policy_using_dictionary-li><a href=/altinity-kb-queries-and-syntax/row_policy_using_dictionary/ title="Row policies overhead (hiding 'removed' tenants)" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-altinity-kb-queries-and-syntaxrow_policy_using_dictionary><span>Row policies overhead</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-altinity-kb-queries-and-syntaxslow_select_count-li><a href=/altinity-kb-queries-and-syntax/slow_select_count/ title="Why is simple `SELECT count()` Slow in ClickHouse®?" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-altinity-kb-queries-and-syntaxslow_select_count><span>Slow `SELECT count()`</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-altinity-kb-queries-and-syntaxtrace_log-li><a href=/altinity-kb-queries-and-syntax/trace_log/ title="Collecting query execution flamegraphs using system.trace_log" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-altinity-kb-queries-and-syntaxtrace_log><span>trace_log</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-altinity-kb-queries-and-syntaxarray-functions-as-window-li><a href=/altinity-kb-queries-and-syntax/array-functions-as-window/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-altinity-kb-queries-and-syntaxarray-functions-as-window><span>Using array functions to mimic window-functions alike behavior</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-altinity-kb-queries-and-syntaxstate-and-merge-combinators-li><a href=/altinity-kb-queries-and-syntax/state-and-merge-combinators/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-altinity-kb-queries-and-syntaxstate-and-merge-combinators><span>-State & -Merge combinators</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-altinity-kb-queries-and-syntaxaltinity-kb-alter-modify-column-is-stuck-the-column-is-inaccessible-li><a href=/altinity-kb-queries-and-syntax/altinity-kb-alter-modify-column-is-stuck-the-column-is-inaccessible/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-altinity-kb-queries-and-syntaxaltinity-kb-alter-modify-column-is-stuck-the-column-is-inaccessible><span>ALTER MODIFY COLUMN is stuck, the column is inaccessible.</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-altinity-kb-queries-and-syntaxansi-sql-mode-li><a href=/altinity-kb-queries-and-syntax/ansi-sql-mode/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-altinity-kb-queries-and-syntaxansi-sql-mode><span>ANSI SQL mode</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-altinity-kb-queries-and-syntaxasync-inserts-li><a href=/altinity-kb-queries-and-syntax/async-inserts/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-altinity-kb-queries-and-syntaxasync-inserts><span>Async INSERTs</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-altinity-kb-queries-and-syntaxatomic-insert-li><a href=/altinity-kb-queries-and-syntax/atomic-insert/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-altinity-kb-queries-and-syntaxatomic-insert><span>Atomic insert</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-altinity-kb-queries-and-syntaxprojections-examples-li><a href=/altinity-kb-queries-and-syntax/projections-examples/ title="ClickHouse® Projections" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-altinity-kb-queries-and-syntaxprojections-examples><span>ClickHouse Projections</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-altinity-kb-queries-and-syntaxcumulative-unique-li><a href=/altinity-kb-queries-and-syntax/cumulative-unique/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-altinity-kb-queries-and-syntaxcumulative-unique><span>Cumulative Anything</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-altinity-kb-queries-and-syntaxdata-types-on-disk-and-in-ram-li><a href=/altinity-kb-queries-and-syntax/data-types-on-disk-and-in-ram/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-altinity-kb-queries-and-syntaxdata-types-on-disk-and-in-ram><span>Data types on disk and in RAM</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-altinity-kb-queries-and-syntaxdelete-via-tombstone-column-li><a href=/altinity-kb-queries-and-syntax/delete-via-tombstone-column/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-altinity-kb-queries-and-syntaxdelete-via-tombstone-column><span>DELETE via tombstone column</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-altinity-kb-queries-and-syntaxexplain-query-li><a href=/altinity-kb-queries-and-syntax/explain-query/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-altinity-kb-queries-and-syntaxexplain-query><span>EXPLAIN query</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-altinity-kb-queries-and-syntaxfill-missing-values-at-query-time-li><a href=/altinity-kb-queries-and-syntax/fill-missing-values-at-query-time/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-altinity-kb-queries-and-syntaxfill-missing-values-at-query-time><span>Fill missing values at query time</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-altinity-kb-queries-and-syntaxaltinity-kb-final-clause-speed-li><a href=/altinity-kb-queries-and-syntax/altinity-kb-final-clause-speed/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-altinity-kb-queries-and-syntaxaltinity-kb-final-clause-speed><span>FINAL clause speed</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-altinity-kb-queries-and-syntaxjoin-with-calendar-using-arrays-li><a href=/altinity-kb-queries-and-syntax/join-with-calendar-using-arrays/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-altinity-kb-queries-and-syntaxjoin-with-calendar-using-arrays><span>Join with Calendar using Arrays</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child collapse" id=m-altinity-kb-queries-and-syntaxjoins-li><a href=/altinity-kb-queries-and-syntax/joins/ class="align-left ps-0 td-sidebar-link td-sidebar-link__section" id=m-altinity-kb-queries-and-syntaxjoins><span>JOINs</span></a><ul class="ul-3 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-altinity-kb-queries-and-syntaxjoinsjoins-tricks-li><a href=/altinity-kb-queries-and-syntax/joins/joins-tricks/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-altinity-kb-queries-and-syntaxjoinsjoins-tricks><span>JOIN optimization tricks</span></a></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-altinity-kb-queries-and-syntaxjsonextract-to-parse-many-attributes-at-a-time-li><a href=/altinity-kb-queries-and-syntax/jsonextract-to-parse-many-attributes-at-a-time/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-altinity-kb-queries-and-syntaxjsonextract-to-parse-many-attributes-at-a-time><span>JSONExtract to parse many attributes at a time</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-altinity-kb-queries-and-syntaxaltinity-kb-kill-query-li><a href=/altinity-kb-queries-and-syntax/altinity-kb-kill-query/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-altinity-kb-queries-and-syntaxaltinity-kb-kill-query><span>KILL QUERY</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-altinity-kb-queries-and-syntaxlag-lead-li><a href=/altinity-kb-queries-and-syntax/lag-lead/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-altinity-kb-queries-and-syntaxlag-lead><span>Lag / Lead</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-altinity-kb-queries-and-syntaxmachine-learning-in-clickhouse-li><a href=/altinity-kb-queries-and-syntax/machine-learning-in-clickhouse/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-altinity-kb-queries-and-syntaxmachine-learning-in-clickhouse><span>Machine learning in ClickHouse</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-altinity-kb-queries-and-syntaxmutations-li><a href=/altinity-kb-queries-and-syntax/mutations/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-altinity-kb-queries-and-syntaxmutations><span>Mutations</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-altinity-kb-queries-and-syntaxaltinity-kb-optimize-vs-optimize-final-li><a href=/altinity-kb-queries-and-syntax/altinity-kb-optimize-vs-optimize-final/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-altinity-kb-queries-and-syntaxaltinity-kb-optimize-vs-optimize-final><span>OPTIMIZE vs OPTIMIZE FINAL</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-altinity-kb-queries-and-syntaxaltinity-kb-parameterized-views-li><a href=/altinity-kb-queries-and-syntax/altinity-kb-parameterized-views/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-altinity-kb-queries-and-syntaxaltinity-kb-parameterized-views><span>Parameterized views</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-altinity-kb-queries-and-syntaxpartial-projection-optimization-li><a href=/altinity-kb-queries-and-syntax/partial-projection-optimization/ title="Use both projection and raw data in single query" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-altinity-kb-queries-and-syntaxpartial-projection-optimization><span>partial-projection-optimization</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-altinity-kb-queries-and-syntaxpivot-unpivot-li><a href=/altinity-kb-queries-and-syntax/pivot-unpivot/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-altinity-kb-queries-and-syntaxpivot-unpivot><span>PIVOT / UNPIVOT</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-altinity-kb-queries-and-syntaxaltinity-kb-possible-deadlock-avoided-client-should-retry-li><a href=/altinity-kb-queries-and-syntax/altinity-kb-possible-deadlock-avoided.-client-should-retry/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-altinity-kb-queries-and-syntaxaltinity-kb-possible-deadlock-avoided-client-should-retry><span>Possible deadlock avoided. Client should retry</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-altinity-kb-queries-and-syntaxroaring-bitmaps-for-calculating-retention-li><a href=/altinity-kb-queries-and-syntax/roaring-bitmaps-for-calculating-retention/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-altinity-kb-queries-and-syntaxroaring-bitmaps-for-calculating-retention><span>Roaring bitmaps for calculating retention</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-altinity-kb-queries-and-syntaxaltinity-kb-sample-by-li><a href=/altinity-kb-queries-and-syntax/altinity-kb-sample-by/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-altinity-kb-queries-and-syntaxaltinity-kb-sample-by><span>SAMPLE by</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-altinity-kb-queries-and-syntaxsampling-example-li><a href=/altinity-kb-queries-and-syntax/sampling-example/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-altinity-kb-queries-and-syntaxsampling-example><span>Sampling Example</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-altinity-kb-queries-and-syntaxsimplestateif-or-ifstate-for-simple-aggregate-functions-li><a href=/altinity-kb-queries-and-syntax/simplestateif-or-ifstate-for-simple-aggregate-functions/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-altinity-kb-queries-and-syntaxsimplestateif-or-ifstate-for-simple-aggregate-functions><span>Simple aggregate functions & combinators</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child collapse" id=m-altinity-kb-queries-and-syntaxskip-indexes-li><a href=/altinity-kb-queries-and-syntax/skip-indexes/ class="align-left ps-0 td-sidebar-link td-sidebar-link__section" id=m-altinity-kb-queries-and-syntaxskip-indexes><span>Skip indexes</span></a><ul class="ul-3 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-altinity-kb-queries-and-syntaxskip-indexesminmax-li><a href=/altinity-kb-queries-and-syntax/skip-indexes/minmax/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-altinity-kb-queries-and-syntaxskip-indexesminmax><span>Example: minmax</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-altinity-kb-queries-and-syntaxskip-indexesskip-index-bloom_filter-for-array-column-li><a href=/altinity-kb-queries-and-syntax/skip-indexes/skip-index-bloom_filter-for-array-column/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-altinity-kb-queries-and-syntaxskip-indexesskip-index-bloom_filter-for-array-column><span>Skip index bloom_filter Example</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-altinity-kb-queries-and-syntaxskip-indexesskip-indexes-examples-li><a href=/altinity-kb-queries-and-syntax/skip-indexes/skip-indexes-examples/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-altinity-kb-queries-and-syntaxskip-indexesskip-indexes-examples><span>Skip indexes examples</span></a></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-altinity-kb-queries-and-syntaxtime-zones-li><a href=/altinity-kb-queries-and-syntax/time-zones/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-altinity-kb-queries-and-syntaxtime-zones><span>Time zones</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-altinity-kb-queries-and-syntaxts-interpolation-li><a href=/altinity-kb-queries-and-syntax/ts-interpolation/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-altinity-kb-queries-and-syntaxts-interpolation><span>Time-series alignment with interpolation</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-altinity-kb-queries-and-syntaxtop-n-and-remain-li><a href=/altinity-kb-queries-and-syntax/top-n-and-remain/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-altinity-kb-queries-and-syntaxtop-n-and-remain><span>Top N & Remain</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-altinity-kb-queries-and-syntaxtroubleshooting-li><a href=/altinity-kb-queries-and-syntax/troubleshooting/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-altinity-kb-queries-and-syntaxtroubleshooting><span>Troubleshooting</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child collapse" id=m-altinity-kb-queries-and-syntaxttl-li><a href=/altinity-kb-queries-and-syntax/ttl/ class="align-left ps-0 td-sidebar-link td-sidebar-link__section" id=m-altinity-kb-queries-and-syntaxttl><span>TTL</span></a><ul class="ul-3 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-altinity-kb-queries-and-syntaxttlmodify-ttl-li><a href=/altinity-kb-queries-and-syntax/ttl/modify-ttl/ title="MODIFY (ADD) TTL in ClickHouse®" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-altinity-kb-queries-and-syntaxttlmodify-ttl><span>MODIFY (ADD) TTL</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-altinity-kb-queries-and-syntaxttlwhat-are-my-ttls-li><a href=/altinity-kb-queries-and-syntax/ttl/what-are-my-ttls/ title="What are my TTL settings?" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-altinity-kb-queries-and-syntaxttlwhat-are-my-ttls><span>What are my TTL settings</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-altinity-kb-queries-and-syntaxttlttl-group-by-examples-li><a href=/altinity-kb-queries-and-syntax/ttl/ttl-group-by-examples/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-altinity-kb-queries-and-syntaxttlttl-group-by-examples><span>TTL GROUP BY Examples</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-altinity-kb-queries-and-syntaxttlttl-recompress-example-li><a href=/altinity-kb-queries-and-syntax/ttl/ttl-recompress-example/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-altinity-kb-queries-and-syntaxttlttl-recompress-example><span>TTL Recompress example</span></a></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-altinity-kb-queries-and-syntaxupdate-via-dictionary-li><a href=/altinity-kb-queries-and-syntax/update-via-dictionary/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-altinity-kb-queries-and-syntaxupdate-via-dictionary><span>UPDATE via Dictionary</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-altinity-kb-queries-and-syntaxvalues-mapping-li><a href=/altinity-kb-queries-and-syntax/values-mapping/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-altinity-kb-queries-and-syntaxvalues-mapping><span>Values mapping</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-altinity-kb-queries-and-syntaxwindow-functions-li><a href=/altinity-kb-queries-and-syntax/window-functions/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-altinity-kb-queries-and-syntaxwindow-functions><span>Window functions</span></a></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-altinity-kb-functions-li><a href=/altinity-kb-functions/ class="align-left ps-0 td-sidebar-link td-sidebar-link__section" id=m-altinity-kb-functions><span>Functions</span></a><ul class="ul-2 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-altinity-kb-functionshow-to-encode-decode-quantiletdigest-state-li><a href=/altinity-kb-functions/how-to-encode-decode-quantiletdigest-state/ title="How to encode/decode quantileTDigest states from/to list of centroids" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-altinity-kb-functionshow-to-encode-decode-quantiletdigest-state><span>Encoding and Decoding of quantileTDigest states</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-altinity-kb-functionskurt_skew_statistics-li><a href=/altinity-kb-functions/kurt_skew_statistics/ title="kurt & skew statistical functions in ClickHouse® " class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-altinity-kb-functionskurt_skew_statistics><span>kurt & skew</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-altinity-kb-functionsresample-vs-if-vs-map-vs-subquery-li><a href=/altinity-kb-functions/resample-vs-if-vs-map-vs-subquery/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-altinity-kb-functionsresample-vs-if-vs-map-vs-subquery><span>-Resample vs -If vs -Map vs Subquery</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-altinity-kb-functionsarrayfold-li><a href=/altinity-kb-functions/arrayfold/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-altinity-kb-functionsarrayfold><span>arrayFold</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-altinity-kb-functionsarray-like-memory-usage-li><a href=/altinity-kb-functions/array-like-memory-usage/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-altinity-kb-functionsarray-like-memory-usage><span>arrayMap, arrayJoin or ARRAY JOIN memory usage</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-altinity-kb-functionsassumenotnull-and-friends-li><a href=/altinity-kb-functions/assumenotnull-and-friends/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-altinity-kb-functionsassumenotnull-and-friends><span>assumeNotNull and friends</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-altinity-kb-functionsencrypt-li><a href=/altinity-kb-functions/encrypt/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-altinity-kb-functionsencrypt><span>Encrypt</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-altinity-kb-functionsaltinity-kb-sequencematch-li><a href=/altinity-kb-functions/altinity-kb-sequencematch/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-altinity-kb-functionsaltinity-kb-sequencematch><span>sequenceMatch</span></a></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-altinity-kb-integrations-li><a href=/altinity-kb-integrations/ class="align-left ps-0 td-sidebar-link td-sidebar-link__section" id=m-altinity-kb-integrations><span>Integrations</span></a><ul class="ul-2 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-altinity-kb-integrationsaltinity-cloud-li><a href=/altinity-kb-integrations/altinity-cloud/ class="align-left ps-0 td-sidebar-link td-sidebar-link__section" id=m-altinity-kb-integrationsaltinity-cloud><span>Altinity Cloud Access Management</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-altinity-kb-integrationsclickhouse_python_drivers-li><a href=/altinity-kb-integrations/clickhouse_python_drivers/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-altinity-kb-integrationsclickhouse_python_drivers><span>ClickHouse® python drivers</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-altinity-kb-integrationsmysql-clickhouse-li><a href=/altinity-kb-integrations/mysql-clickhouse/ title=MySQL class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-altinity-kb-integrationsmysql-clickhouse><span>Integrating ClickHouse® with MySQL</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-altinity-kb-integrationsclickhouse-odbc-li><a href=/altinity-kb-integrations/clickhouse-odbc/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-altinity-kb-integrationsclickhouse-odbc><span>ODBC Driver for ClickHouse®</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-altinity-kb-integrationsspark-li><a href=/altinity-kb-integrations/spark/ title="ClickHouse® + Spark" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-altinity-kb-integrationsspark><span>Spark</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-altinity-kb-integrationsbi-tools-li><a href=/altinity-kb-integrations/bi-tools/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-altinity-kb-integrationsbi-tools><span>BI Tools</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-altinity-kb-integrationscatboost-mindsdb-fastai-li><a href=/altinity-kb-integrations/catboost-mindsdb-fast.ai/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-altinity-kb-integrationscatboost-mindsdb-fastai><span>CatBoost / MindsDB / Fast.ai</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-altinity-kb-integrationsaltinity-kb-google-s3-gcs-li><a href=/altinity-kb-integrations/altinity-kb-google-s3-gcs/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-altinity-kb-integrationsaltinity-kb-google-s3-gcs><span>Google S3 (GCS)</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child collapse" id=m-altinity-kb-integrationsaltinity-kb-kafka-li><a href=/altinity-kb-integrations/altinity-kb-kafka/ class="align-left ps-0 td-sidebar-link td-sidebar-link__section" id=m-altinity-kb-integrationsaltinity-kb-kafka><span>Kafka</span></a><ul class="ul-3 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-altinity-kb-integrationsaltinity-kb-kafkaaltinity-kb-kafka-virtual-columns-li><a href=/altinity-kb-integrations/altinity-kb-kafka/altinity-kb-kafka-virtual-columns/ title="Kafka engine Virtual columns" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-altinity-kb-integrationsaltinity-kb-kafkaaltinity-kb-kafka-virtual-columns><span>Kafka virtual columns</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-altinity-kb-integrationsaltinity-kb-kafkakafka-schema-inference-li><a href=/altinity-kb-integrations/altinity-kb-kafka/kafka-schema-inference/ title="Inferring Schema from AvroConfluent Messages in Kafka for ClickHouse®" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-altinity-kb-integrationsaltinity-kb-kafkakafka-schema-inference><span>Schema Inference for Kafka</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-altinity-kb-integrationsaltinity-kb-kafkabackground_message_broker_schedule_pool_size-li><a href=/altinity-kb-integrations/altinity-kb-kafka/background_message_broker_schedule_pool_size/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-altinity-kb-integrationsaltinity-kb-kafkabackground_message_broker_schedule_pool_size><span>Setting the background message broker schedule pool size</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-altinity-kb-integrationsaltinity-kb-kafkaaltinity-kb-adjusting-librdkafka-settings-li><a href=/altinity-kb-integrations/altinity-kb-kafka/altinity-kb-adjusting-librdkafka-settings/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-altinity-kb-integrationsaltinity-kb-kafkaaltinity-kb-adjusting-librdkafka-settings><span>Adjusting librdkafka settings</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-altinity-kb-integrationsaltinity-kb-kafkaerror-handling-li><a href=/altinity-kb-integrations/altinity-kb-kafka/error-handling/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-altinity-kb-integrationsaltinity-kb-kafkaerror-handling><span>Error handling</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-altinity-kb-integrationsaltinity-kb-kafkaaltinity-kb-exactly-once-semantics-li><a href=/altinity-kb-integrations/altinity-kb-kafka/altinity-kb-exactly-once-semantics/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-altinity-kb-integrationsaltinity-kb-kafkaaltinity-kb-exactly-once-semantics><span>Exactly once semantics</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-altinity-kb-integrationsaltinity-kb-kafkaaltinity-kb-kafka-main-parsing-loop-li><a href=/altinity-kb-integrations/altinity-kb-kafka/altinity-kb-kafka-main-parsing-loop/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-altinity-kb-integrationsaltinity-kb-kafkaaltinity-kb-kafka-main-parsing-loop><span>Kafka main parsing loop</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-altinity-kb-integrationsaltinity-kb-kafkaaltinity-kb-kafka-parallel-consuming-li><a href=/altinity-kb-integrations/altinity-kb-kafka/altinity-kb-kafka-parallel-consuming/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-altinity-kb-integrationsaltinity-kb-kafkaaltinity-kb-kafka-parallel-consuming><span>Kafka parallel consuming</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-altinity-kb-integrationsaltinity-kb-kafkaaltinity-kb-kafka-mv-consuming-li><a href=/altinity-kb-integrations/altinity-kb-kafka/altinity-kb-kafka-mv-consuming/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-altinity-kb-integrationsaltinity-kb-kafkaaltinity-kb-kafka-mv-consuming><span>Multiple MVs attached to Kafka table</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-altinity-kb-integrationsaltinity-kb-kafkaaltinity-kb-rewind-fast-forward-replay-li><a href=/altinity-kb-integrations/altinity-kb-kafka/altinity-kb-rewind-fast-forward-replay/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-altinity-kb-integrationsaltinity-kb-kafkaaltinity-kb-rewind-fast-forward-replay><span>Rewind / fast-forward / replay</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-altinity-kb-integrationsaltinity-kb-kafkaaltinity-kb-selects-from-engine-kafka-li><a href=/altinity-kb-integrations/altinity-kb-kafka/altinity-kb-selects-from-engine-kafka/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-altinity-kb-integrationsaltinity-kb-kafkaaltinity-kb-selects-from-engine-kafka><span>SELECTs from engine=Kafka</span></a></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child collapse" id=m-altinity-kb-integrationsaltinity-kb-rabbitmq-li><a href=/altinity-kb-integrations/altinity-kb-rabbitmq/ class="align-left ps-0 td-sidebar-link td-sidebar-link__section" id=m-altinity-kb-integrationsaltinity-kb-rabbitmq><span>RabbitMQ</span></a><ul class="ul-3 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-altinity-kb-integrationsaltinity-kb-rabbitmqerror-handling-li><a href=/altinity-kb-integrations/altinity-kb-rabbitmq/error-handling/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-altinity-kb-integrationsaltinity-kb-rabbitmqerror-handling><span>RabbitMQ Error handling</span></a></li></ul></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-altinity-kb-setup-and-maintenance-li><a href=/altinity-kb-setup-and-maintenance/ class="align-left ps-0 td-sidebar-link td-sidebar-link__section" id=m-altinity-kb-setup-and-maintenance><span>Setup & maintenance</span></a><ul class="ul-2 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child collapse" id=m-altinity-kb-setup-and-maintenancealtinity-kb-s3-object-storage-li><a href=/altinity-kb-setup-and-maintenance/altinity-kb-s3-object-storage/ class="align-left ps-0 td-sidebar-link td-sidebar-link__section" id=m-altinity-kb-setup-and-maintenancealtinity-kb-s3-object-storage><span>S3 & object storage</span></a><ul class="ul-3 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-altinity-kb-setup-and-maintenancealtinity-kb-s3-object-storageaws-s3-recipes-li><a href=/altinity-kb-setup-and-maintenance/altinity-kb-s3-object-storage/aws-s3-recipes/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-altinity-kb-setup-and-maintenancealtinity-kb-s3-object-storageaws-s3-recipes><span>AWS S3 Recipes</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-altinity-kb-setup-and-maintenancealtinity-kb-s3-object-storageclean-up-orphaned-objects-on-s3md-li><a href=/altinity-kb-setup-and-maintenance/altinity-kb-s3-object-storage/clean-up-orphaned-objects-on-s3.md/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-altinity-kb-setup-and-maintenancealtinity-kb-s3-object-storageclean-up-orphaned-objects-on-s3md><span>Clean up orphaned objects on s3</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-altinity-kb-setup-and-maintenancealtinity-kb-s3-object-storages3_and_mutations-li><a href=/altinity-kb-setup-and-maintenance/altinity-kb-s3-object-storage/s3_and_mutations/ title="How much data are written to S3 during mutations" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-altinity-kb-setup-and-maintenancealtinity-kb-s3-object-storages3_and_mutations><span>s3 and mutations</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-altinity-kb-setup-and-maintenancealtinity-kb-s3-object-storages3_cache_example-li><a href=/altinity-kb-setup-and-maintenance/altinity-kb-s3-object-storage/s3_cache_example/ title="Example of the table at s3 with cache" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-altinity-kb-setup-and-maintenancealtinity-kb-s3-object-storages3_cache_example><span>s3 cached table</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-altinity-kb-setup-and-maintenancealtinity-kb-s3-object-storages3disk-li><a href=/altinity-kb-setup-and-maintenance/altinity-kb-s3-object-storage/s3disk/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-altinity-kb-setup-and-maintenancealtinity-kb-s3-object-storages3disk><span>S3Disk</span></a></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-altinity-kb-setup-and-maintenanceuniq-uuid-doubled-clickhouse-upgrade-li><a href=/altinity-kb-setup-and-maintenance/uniq-uuid-doubled-clickhouse-upgrade/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-altinity-kb-setup-and-maintenanceuniq-uuid-doubled-clickhouse-upgrade><span>AggregateFunction(uniq, UUID) doubled after ClickHouse® upgrade</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-altinity-kb-setup-and-maintenanceconnection-problems-li><a href=/altinity-kb-setup-and-maintenance/connection-problems/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-altinity-kb-setup-and-maintenanceconnection-problems><span>Can not connect to my ClickHouse® server</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-altinity-kb-setup-and-maintenancecgroups_k8s-li><a href=/altinity-kb-setup-and-maintenance/cgroups_k8s/ title="cgroups and kubernetes cloud providers" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-altinity-kb-setup-and-maintenancecgroups_k8s><span>cgroups and k8s</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-altinity-kb-setup-and-maintenancech-logs-2-json-vectordev-li><a href=/altinity-kb-setup-and-maintenance/ch-logs-2-json-vectordev/ title="Transforming ClickHouse logs to ndjson using Vector.dev" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-altinity-kb-setup-and-maintenancech-logs-2-json-vectordev><span>ClickHouse logs and Vector.dev</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-altinity-kb-setup-and-maintenanceclickhouse-operator-li><a href=/altinity-kb-setup-and-maintenance/clickhouse-operator/ title="Altinity Kubernetes Operator For ClickHouse®" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-altinity-kb-setup-and-maintenanceclickhouse-operator><span>ClickHouse operator</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-altinity-kb-setup-and-maintenancefilesystems-li><a href=/altinity-kb-setup-and-maintenance/filesystems/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-altinity-kb-setup-and-maintenancefilesystems><span>ClickHouse® and different filesystems</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-altinity-kb-setup-and-maintenancerbac-li><a href=/altinity-kb-setup-and-maintenance/rbac/ title="ClickHouse® Access Control and Account Management (RBAC)" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-altinity-kb-setup-and-maintenancerbac><span>ClickHouse® RBAC example</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-altinity-kb-setup-and-maintenanceclient-timeouts-li><a href=/altinity-kb-setup-and-maintenance/client-timeouts/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-altinity-kb-setup-and-maintenanceclient-timeouts><span>Client Timeouts</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-altinity-kb-setup-and-maintenancemonitoring-operator-exporter-compatibility-li><a href=/altinity-kb-setup-and-maintenance/monitoring-operator-exporter-compatibility/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-altinity-kb-setup-and-maintenancemonitoring-operator-exporter-compatibility><span>Compatibility layer for the Altinity Kubernetes Operator for ClickHouse®</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-altinity-kb-setup-and-maintenanceuniqexact-to-uniq-combined-li><a href=/altinity-kb-setup-and-maintenance/uniqexact-to-uniq-combined/ title="How to convert uniqExact states to approximate uniq functions states" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-altinity-kb-setup-and-maintenanceuniqexact-to-uniq-combined><span>Convert uniqExact to uniq(Combined)</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-altinity-kb-setup-and-maintenancecustom_settings-li><a href=/altinity-kb-setup-and-maintenance/custom_settings/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-altinity-kb-setup-and-maintenancecustom_settings><span>Custom Settings</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-altinity-kb-setup-and-maintenanceasynchronous_metrics_descr-li><a href=/altinity-kb-setup-and-maintenance/asynchronous_metrics_descr/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-altinity-kb-setup-and-maintenanceasynchronous_metrics_descr><span>Description of asynchronous_metrics</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-altinity-kb-setup-and-maintenancedisk_encryption-li><a href=/altinity-kb-setup-and-maintenance/disk_encryption/ title="ClickHouse® data/disk encryption (at rest)" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-altinity-kb-setup-and-maintenancedisk_encryption><span>disk encryption</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-altinity-kb-setup-and-maintenancedr-two-dc-li><a href=/altinity-kb-setup-and-maintenance/dr-two-dc/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-altinity-kb-setup-and-maintenancedr-two-dc><span>DR two DC</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-altinity-kb-setup-and-maintenancealters-li><a href=/altinity-kb-setup-and-maintenance/alters/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-altinity-kb-setup-and-maintenancealters><span>How ALTERs work in ClickHouse®</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-altinity-kb-setup-and-maintenancehow_to_recreate_table-li><a href=/altinity-kb-setup-and-maintenance/how_to_recreate_table/ title="How to recreate a table in case of total corruption of the replication queue" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-altinity-kb-setup-and-maintenancehow_to_recreate_table><span>How to recreate a table</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-altinity-kb-setup-and-maintenancehttp_handlers-li><a href=/altinity-kb-setup-and-maintenance/http_handlers/ title="http handler example" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-altinity-kb-setup-and-maintenancehttp_handlers><span>http_handlers</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-altinity-kb-setup-and-maintenancejemalloc_heap_profiling-li><a href=/altinity-kb-setup-and-maintenance/jemalloc_heap_profiling/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-altinity-kb-setup-and-maintenancejemalloc_heap_profiling><span>Jemalloc heap profiling</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-altinity-kb-setup-and-maintenancelogging-li><a href=/altinity-kb-setup-and-maintenance/logging/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-altinity-kb-setup-and-maintenancelogging><span>Logging</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-altinity-kb-setup-and-maintenancemetric_log_ram-li><a href=/altinity-kb-setup-and-maintenance/metric_log_ram/ title="High Memory Usage During Merge in system.metric_log" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-altinity-kb-setup-and-maintenancemetric_log_ram><span>Merge Memory in metric_log</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-altinity-kb-setup-and-maintenanceprecreate_parts_using_clickhouse_localsh-li><a href=/altinity-kb-setup-and-maintenance/precreate_parts_using_clickhouse_local.sh/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-altinity-kb-setup-and-maintenanceprecreate_parts_using_clickhouse_localsh><span>Precreate parts using clickhouse-local</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-altinity-kb-setup-and-maintenancerecovery-after-complete-data-loss-li><a href=/altinity-kb-setup-and-maintenance/recovery-after-complete-data-loss/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-altinity-kb-setup-and-maintenancerecovery-after-complete-data-loss><span>Recovery after complete data loss</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-altinity-kb-setup-and-maintenancechange-me-li><a href=/altinity-kb-setup-and-maintenance/change-me/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-altinity-kb-setup-and-maintenancechange-me><span>Replication: Can not resolve host of another ClickHouse® server</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-altinity-kb-setup-and-maintenancesource-pars-size-is-greater-than-maximum-li><a href=/altinity-kb-setup-and-maintenance/source-pars-size-is-greater-than-maximum/ title="source parts size is greater than the current maximum" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-altinity-kb-setup-and-maintenancesource-pars-size-is-greater-than-maximum><span>source parts sizeis greater than the current maximum</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-altinity-kb-setup-and-maintenanceclickhouse-deployment-plan-li><a href=/altinity-kb-setup-and-maintenance/clickhouse-deployment-plan/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-altinity-kb-setup-and-maintenanceclickhouse-deployment-plan><span>Successful ClickHouse® deployment plan</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-altinity-kb-setup-and-maintenancesysall-li><a href=/altinity-kb-setup-and-maintenance/sysall/ title="sysall database (system tables on a cluster level)" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-altinity-kb-setup-and-maintenancesysall><span>sysall database</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-altinity-kb-setup-and-maintenancetimeouts-during-optimize-final-li><a href=/altinity-kb-setup-and-maintenance/timeouts-during-optimize-final/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-altinity-kb-setup-and-maintenancetimeouts-during-optimize-final><span>Timeouts during OPTIMIZE FINAL</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-altinity-kb-setup-and-maintenanceexecutable-dictionary-li><a href=/altinity-kb-setup-and-maintenance/executable-dictionary/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-altinity-kb-setup-and-maintenanceexecutable-dictionary><span>Use an executable dictionary as cron task</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-altinity-kb-setup-and-maintenanceuseful-setting-to-turn-on-li><a href=/altinity-kb-setup-and-maintenance/useful-setting-to-turn-on/ title="Useful settings to turn on/Defaults that should be reconsidered" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-altinity-kb-setup-and-maintenanceuseful-setting-to-turn-on><span>Useful settings to turn on</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-altinity-kb-setup-and-maintenancewho-ate-my-cpu-li><a href=/altinity-kb-setup-and-maintenance/who-ate-my-cpu/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-altinity-kb-setup-and-maintenancewho-ate-my-cpu><span>Who ate my CPU</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-altinity-kb-setup-and-maintenancezookeeper-session-expired-li><a href=/altinity-kb-setup-and-maintenance/zookeeper-session-expired/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-altinity-kb-setup-and-maintenancezookeeper-session-expired><span>Zookeeper session has expired</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-altinity-kb-setup-and-maintenancealtinity-kb-server-config-files-li><a href=/altinity-kb-setup-and-maintenance/altinity-kb-server-config-files/ title="Server configuration files" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-altinity-kb-setup-and-maintenancealtinity-kb-server-config-files><span>Server config files</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-altinity-kb-setup-and-maintenancealtinity-kb-aggressive_merges-li><a href=/altinity-kb-setup-and-maintenance/altinity-kb-aggressive_merges/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-altinity-kb-setup-and-maintenancealtinity-kb-aggressive_merges><span>Aggressive merges</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-altinity-kb-setup-and-maintenanceclickhouse-backup-li><a href=/altinity-kb-setup-and-maintenance/clickhouse-backup/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-altinity-kb-setup-and-maintenanceclickhouse-backup><span>Altinity Backup for ClickHouse®</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-altinity-kb-setup-and-maintenancealtinity-packaging-compatibility-greater-than-21x-and-earlier-li><a href=/altinity-kb-setup-and-maintenance/altinity-packaging-compatibility-greater-than-21.x-and-earlier/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-altinity-kb-setup-and-maintenancealtinity-packaging-compatibility-greater-than-21x-and-earlier><span>Altinity packaging compatibility >21.x and earlier</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-altinity-kb-setup-and-maintenanceaws-ec2-storage-li><a href=/altinity-kb-setup-and-maintenance/aws-ec2-storage/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-altinity-kb-setup-and-maintenanceaws-ec2-storage><span>AWS EC2 Storage</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-altinity-kb-setup-and-maintenancealtinity-kb-clickhouse-in-docker-li><a href=/altinity-kb-setup-and-maintenance/altinity-kb-clickhouse-in-docker/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-altinity-kb-setup-and-maintenancealtinity-kb-clickhouse-in-docker><span>ClickHouse® in Docker</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-altinity-kb-setup-and-maintenancealtinity-kb-monitoring-li><a href=/altinity-kb-setup-and-maintenance/altinity-kb-monitoring/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-altinity-kb-setup-and-maintenancealtinity-kb-monitoring><span>ClickHouse® Monitoring</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-altinity-kb-setup-and-maintenanceclickhouse-versions-li><a href=/altinity-kb-setup-and-maintenance/clickhouse-versions/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-altinity-kb-setup-and-maintenanceclickhouse-versions><span>ClickHouse® versions</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-altinity-kb-setup-and-maintenanceconfigure_clickhouse_for_low_mem_envs-li><a href=/altinity-kb-setup-and-maintenance/configure_clickhouse_for_low_mem_envs/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-altinity-kb-setup-and-maintenanceconfigure_clickhouse_for_low_mem_envs><span>Configure ClickHouse® for low memory environments</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-altinity-kb-setup-and-maintenancealtinity-kb-converting-mergetree-to-replicated-li><a href=/altinity-kb-setup-and-maintenance/altinity-kb-converting-mergetree-to-replicated/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-altinity-kb-setup-and-maintenancealtinity-kb-converting-mergetree-to-replicated><span>Converting MergeTree to Replicated</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child collapse" id=m-altinity-kb-setup-and-maintenancealtinity-kb-data-migration-li><a href=/altinity-kb-setup-and-maintenance/altinity-kb-data-migration/ class="align-left ps-0 td-sidebar-link td-sidebar-link__section" id=m-altinity-kb-setup-and-maintenancealtinity-kb-data-migration><span>Data Migration</span></a><ul class="ul-3 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-altinity-kb-setup-and-maintenancealtinity-kb-data-migrationmssql-clickhouse-li><a href=/altinity-kb-setup-and-maintenance/altinity-kb-data-migration/mssql-clickhouse/ title="MSSQL bcp pipe to clickhouse-client" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-altinity-kb-setup-and-maintenancealtinity-kb-data-migrationmssql-clickhouse><span>Export from MSSQL to ClickHouse®</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-altinity-kb-setup-and-maintenancealtinity-kb-data-migrationadd_remove_replica-li><a href=/altinity-kb-setup-and-maintenance/altinity-kb-data-migration/add_remove_replica/ title="Add/Remove a new replica to a ClickHouse® cluster" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-altinity-kb-setup-and-maintenancealtinity-kb-data-migrationadd_remove_replica><span>add_remove_replica</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child collapse" id=m-altinity-kb-setup-and-maintenancealtinity-kb-data-migrationaltinity-kb-clickhouse-copier-li><a href=/altinity-kb-setup-and-maintenance/altinity-kb-data-migration/altinity-kb-clickhouse-copier/ class="align-left ps-0 td-sidebar-link td-sidebar-link__section" id=m-altinity-kb-setup-and-maintenancealtinity-kb-data-migrationaltinity-kb-clickhouse-copier><span>clickhouse-copier</span></a><ul class="ul-4 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-altinity-kb-setup-and-maintenancealtinity-kb-data-migrationaltinity-kb-clickhouse-copieraltinity-kb-clickhouse-copier-203-and-earlier-li><a href=/altinity-kb-setup-and-maintenance/altinity-kb-data-migration/altinity-kb-clickhouse-copier/altinity-kb-clickhouse-copier-20.3-and-earlier/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-altinity-kb-setup-and-maintenancealtinity-kb-data-migrationaltinity-kb-clickhouse-copieraltinity-kb-clickhouse-copier-203-and-earlier><span>clickhouse-copier 20.3 and earlier</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-altinity-kb-setup-and-maintenancealtinity-kb-data-migrationaltinity-kb-clickhouse-copieraltinity-kb-clickhouse-copier-204_216-li><a href=/altinity-kb-setup-and-maintenance/altinity-kb-data-migration/altinity-kb-clickhouse-copier/altinity-kb-clickhouse-copier-20.4_21.6/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-altinity-kb-setup-and-maintenancealtinity-kb-data-migrationaltinity-kb-clickhouse-copieraltinity-kb-clickhouse-copier-204_216><span>clickhouse-copier 20.4 - 21.6</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-altinity-kb-setup-and-maintenancealtinity-kb-data-migrationaltinity-kb-clickhouse-copieraltinity-kb-clickhouse-copier-kubernetes-job-li><a href=/altinity-kb-setup-and-maintenance/altinity-kb-data-migration/altinity-kb-clickhouse-copier/altinity-kb-clickhouse-copier-kubernetes-job/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-altinity-kb-setup-and-maintenancealtinity-kb-data-migrationaltinity-kb-clickhouse-copieraltinity-kb-clickhouse-copier-kubernetes-job><span>Kubernetes job for clickhouse-copier</span></a></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-altinity-kb-setup-and-maintenancealtinity-kb-data-migrationdistributed-table-cluster-li><a href=/altinity-kb-setup-and-maintenance/altinity-kb-data-migration/distributed-table-cluster/ title="Distributed table to ClickHouse® Cluster" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-altinity-kb-setup-and-maintenancealtinity-kb-data-migrationdistributed-table-cluster><span>Distributed table to cluster</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-altinity-kb-setup-and-maintenancealtinity-kb-data-migrationfetch_alter_table-li><a href=/altinity-kb-setup-and-maintenance/altinity-kb-data-migration/fetch_alter_table/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-altinity-kb-setup-and-maintenancealtinity-kb-data-migrationfetch_alter_table><span>Fetch Alter Table</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-altinity-kb-setup-and-maintenancealtinity-kb-data-migrationremote-table-function-li><a href=/altinity-kb-setup-and-maintenance/altinity-kb-data-migration/remote-table-function/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-altinity-kb-setup-and-maintenancealtinity-kb-data-migrationremote-table-function><span>Remote table function</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-altinity-kb-setup-and-maintenancealtinity-kb-data-migrationrsync-li><a href=/altinity-kb-setup-and-maintenance/altinity-kb-data-migration/rsync/ title="Moving ClickHouse to Another Server" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-altinity-kb-setup-and-maintenancealtinity-kb-data-migrationrsync><span>rsync</span></a></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child collapse" id=m-altinity-kb-setup-and-maintenancealtinity-kb-ddlworker-li><a href=/altinity-kb-setup-and-maintenance/altinity-kb-ddlworker/ class="align-left ps-0 td-sidebar-link td-sidebar-link__section" id=m-altinity-kb-setup-and-maintenancealtinity-kb-ddlworker><span>DDLWorker and DDL queue problems</span></a><ul class="ul-3 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-altinity-kb-setup-and-maintenancealtinity-kb-ddlworkerthere-are-n-unfinished-hosts-0-of-them-are-currently-active-li><a href=/altinity-kb-setup-and-maintenance/altinity-kb-ddlworker/there-are-n-unfinished-hosts-0-of-them-are-currently-active/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-altinity-kb-setup-and-maintenancealtinity-kb-ddlworkerthere-are-n-unfinished-hosts-0-of-them-are-currently-active><span>There are N unfinished hosts (0 of them are currently active).</span></a></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-altinity-kb-setup-and-maintenanceclickhouse-backup-diff-li><a href=/altinity-kb-setup-and-maintenance/clickhouse-backup-diff/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-altinity-kb-setup-and-maintenanceclickhouse-backup-diff><span>differential backups using clickhouse-backup</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-altinity-kb-setup-and-maintenancehigh-cpu-usage-li><a href=/altinity-kb-setup-and-maintenance/high-cpu-usage/ title="High CPU usage in ClickHouse®" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-altinity-kb-setup-and-maintenancehigh-cpu-usage><span>High CPU usage</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-altinity-kb-setup-and-maintenanceload-balancers-li><a href=/altinity-kb-setup-and-maintenance/load-balancers/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-altinity-kb-setup-and-maintenanceload-balancers><span>Load balancers</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-altinity-kb-setup-and-maintenancealtinity-kb-memory-configuration-settings-li><a href=/altinity-kb-setup-and-maintenance/altinity-kb-memory-configuration-settings/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-altinity-kb-setup-and-maintenancealtinity-kb-memory-configuration-settings><span>memory configuration settings</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-altinity-kb-setup-and-maintenancealtinity-kb-memory-overcommit-li><a href=/altinity-kb-setup-and-maintenance/altinity-kb-memory-overcommit/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-altinity-kb-setup-and-maintenancealtinity-kb-memory-overcommit><span>Memory Overcommiter</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-altinity-kb-setup-and-maintenancealtinity-kb-moving-table-to-another-device-li><a href=/altinity-kb-setup-and-maintenance/altinity-kb-moving-table-to-another-device./ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-altinity-kb-setup-and-maintenancealtinity-kb-moving-table-to-another-device><span>Moving a table to another device</span></a></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-altinity-kb-useful-queries-li><a href=/altinity-kb-useful-queries/ class="align-left ps-0 td-sidebar-link td-sidebar-link__section" id=m-altinity-kb-useful-queries><span>Useful queries</span></a><ul class="ul-2 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-altinity-kb-useful-queriestable-meta-in-zookeeper-li><a href=/altinity-kb-useful-queries/table-meta-in-zookeeper/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-altinity-kb-useful-queriestable-meta-in-zookeeper><span>Check table metadata in zookeeper</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-altinity-kb-useful-queriescompare_query_log_for_2_intervals-li><a href=/altinity-kb-useful-queries/compare_query_log_for_2_intervals/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-altinity-kb-useful-queriescompare_query_log_for_2_intervals><span>Compare query_log for 2 intervals</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-altinity-kb-useful-queriesdebug-hang-li><a href=/altinity-kb-useful-queries/debug-hang/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-altinity-kb-useful-queriesdebug-hang><span>Debug hanging thing</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-altinity-kb-useful-queriesquery_log-li><a href=/altinity-kb-useful-queries/query_log/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-altinity-kb-useful-queriesquery_log><span>Handy queries for system.query_log</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-altinity-kb-useful-queriesingestion-rate-part_log-li><a href=/altinity-kb-useful-queries/ingestion-rate-part_log/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-altinity-kb-useful-queriesingestion-rate-part_log><span>Ingestion metrics from system.part_log</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-altinity-kb-useful-queriesremove_unneeded_block_numbers-li><a href=/altinity-kb-useful-queries/remove_unneeded_block_numbers/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-altinity-kb-useful-queriesremove_unneeded_block_numbers><span>Remove block numbers from zookeeper for removed partitions</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-altinity-kb-useful-queriesremove_empty_partitions_from_rq-li><a href=/altinity-kb-useful-queries/remove_empty_partitions_from_rq/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-altinity-kb-useful-queriesremove_empty_partitions_from_rq><span>Removing tasks in the replication queue related to empty partitions</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-altinity-kb-useful-queriesdetached-parts-li><a href=/altinity-kb-useful-queries/detached-parts/ title="Can detached parts in ClickHouse® be dropped?" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-altinity-kb-useful-queriesdetached-parts><span>Can detached parts be dropped?</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-altinity-kb-useful-queriesaltinity-kb-database-size-table-column-size-li><a href=/altinity-kb-useful-queries/altinity-kb-database-size-table-column-size/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-altinity-kb-useful-queriesaltinity-kb-database-size-table-column-size><span>Database Size - Table - Column size</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-altinity-kb-useful-queriesconnection-issues-distributed-parts-li><a href=/altinity-kb-useful-queries/connection-issues-distributed-parts/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-altinity-kb-useful-queriesconnection-issues-distributed-parts><span>Notes on Various Errors with respect to replication and distributed connections</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-altinity-kb-useful-queriesaltinity-kb-number-of-active-parts-in-a-partition-li><a href=/altinity-kb-useful-queries/altinity-kb-number-of-active-parts-in-a-partition/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-altinity-kb-useful-queriesaltinity-kb-number-of-active-parts-in-a-partition><span>Number of active parts in a partition</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-altinity-kb-useful-queriesparts-consistency-li><a href=/altinity-kb-useful-queries/parts-consistency/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-altinity-kb-useful-queriesparts-consistency><span>Parts consistency</span></a></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-altinity-kb-schema-design-li><a href=/altinity-kb-schema-design/ class="align-left ps-0 td-sidebar-link td-sidebar-link__section" id=m-altinity-kb-schema-design><span>Schema design</span></a><ul class="ul-2 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-altinity-kb-schema-designhow-much-is-too-much-li><a href=/altinity-kb-schema-design/how-much-is-too-much/ title="ClickHouse® limitations" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-altinity-kb-schema-designhow-much-is-too-much><span>ClickHouse limitations</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-altinity-kb-schema-designrow-level-deduplication-li><a href=/altinity-kb-schema-design/row-level-deduplication/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-altinity-kb-schema-designrow-level-deduplication><span>ClickHouse® row-level deduplication</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-altinity-kb-schema-designbackfill_column-li><a href=/altinity-kb-schema-design/backfill_column/ title="Column backfilling with alter/update using a dictionary" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-altinity-kb-schema-designbackfill_column><span>Column backfilling from dictionary</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-altinity-kb-schema-designuniq-functions-li><a href=/altinity-kb-schema-design/uniq-functions/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-altinity-kb-schema-designuniq-functions><span>Functions to count uniqs</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-altinity-kb-schema-designchange-order-by-li><a href=/altinity-kb-schema-design/change-order-by/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-altinity-kb-schema-designchange-order-by><span>How to change ORDER BY</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-altinity-kb-schema-designingestion-aggregate-function-li><a href=/altinity-kb-schema-design/ingestion-aggregate-function/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-altinity-kb-schema-designingestion-aggregate-function><span>Ingestion of AggregateFunction</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-altinity-kb-schema-designinsert_deduplication-li><a href=/altinity-kb-schema-design/insert_deduplication/ title="Insert Deduplication / Insert Idempotency" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-altinity-kb-schema-designinsert_deduplication><span>insert deduplication</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-altinity-kb-schema-designaltinity-kb-jsoneachrow-tuples-and-mvs-li><a href=/altinity-kb-schema-design/altinity-kb-jsoneachrow-tuples-and-mvs/ title="JSONEachRow, Tuples, Maps and Materialized Views" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-altinity-kb-schema-designaltinity-kb-jsoneachrow-tuples-and-mvs><span>JSONEachRow, tuple, map and MVs</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-altinity-kb-schema-designpreaggregations-li><a href=/altinity-kb-schema-design/preaggregations/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-altinity-kb-schema-designpreaggregations><span>Pre-Aggregation approaches</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-altinity-kb-schema-designsnowflakeid-li><a href=/altinity-kb-schema-design/snowflakeid/ title="SnowflakeID for Efficient Primary Keys " class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-altinity-kb-schema-designsnowflakeid><span>SnowflakeID</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-altinity-kb-schema-designtwo-columns-indexing-li><a href=/altinity-kb-schema-design/two-columns-indexing/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-altinity-kb-schema-designtwo-columns-indexing><span>Two columns indexing</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-altinity-kb-schema-designbest-schema-for-storing-many-metrics-registered-from-the-single-source-li><a href=/altinity-kb-schema-design/best-schema-for-storing-many-metrics-registered-from-the-single-source/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-altinity-kb-schema-designbest-schema-for-storing-many-metrics-registered-from-the-single-source><span>Best schema for storing many metrics registered from the single source</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child collapse" id=m-altinity-kb-schema-designcodecs-li><a href=/altinity-kb-schema-design/codecs/ class="align-left ps-0 td-sidebar-link td-sidebar-link__section" id=m-altinity-kb-schema-designcodecs><span>Codecs</span></a><ul class="ul-3 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-altinity-kb-schema-designcodecscodecs-on-array-columns-li><a href=/altinity-kb-schema-design/codecs/codecs-on-array-columns/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-altinity-kb-schema-designcodecscodecs-on-array-columns><span>Codecs on array columns</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-altinity-kb-schema-designcodecscodecs-speed-li><a href=/altinity-kb-schema-design/codecs/codecs-speed/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-altinity-kb-schema-designcodecscodecs-speed><span>Codecs speed</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-altinity-kb-schema-designcodecsaltinity-kb-how-to-test-different-compression-codecs-li><a href=/altinity-kb-schema-design/codecs/altinity-kb-how-to-test-different-compression-codecs/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-altinity-kb-schema-designcodecsaltinity-kb-how-to-test-different-compression-codecs><span>How to test different compression codecs</span></a></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-altinity-kb-schema-designaltinity-kb-dictionaries-vs-lowcardinality-li><a href=/altinity-kb-schema-design/altinity-kb-dictionaries-vs-lowcardinality/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-altinity-kb-schema-designaltinity-kb-dictionaries-vs-lowcardinality><span>Dictionaries vs LowCardinality</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-altinity-kb-schema-designflattened-table-li><a href=/altinity-kb-schema-design/flattened-table/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-altinity-kb-schema-designflattened-table><span>Flattened table</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-altinity-kb-schema-designfloats-vs-decimals-li><a href=/altinity-kb-schema-design/floats-vs-decimals/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-altinity-kb-schema-designfloats-vs-decimals><span>Floats vs Decimals</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-altinity-kb-schema-designingestion-performance-and-formats-li><a href=/altinity-kb-schema-design/ingestion-performance-and-formats/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-altinity-kb-schema-designingestion-performance-and-formats><span>Ingestion performance and formats</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-altinity-kb-schema-designhow-to-store-ips-li><a href=/altinity-kb-schema-design/how-to-store-ips/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-altinity-kb-schema-designhow-to-store-ips><span>IPs/masks</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-altinity-kb-schema-designaltinity-kb-jsonasstring-and-mat-view-as-json-parser-li><a href=/altinity-kb-schema-design/altinity-kb-jsonasstring-and-mat.-view-as-json-parser/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-altinity-kb-schema-designaltinity-kb-jsonasstring-and-mat-view-as-json-parser><span>JSONAsString and Mat. View as JSON parser</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-altinity-kb-schema-designlowcardinality-li><a href=/altinity-kb-schema-design/lowcardinality/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-altinity-kb-schema-designlowcardinality><span>LowCardinality</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child collapse" id=m-altinity-kb-schema-designmaterialized-views-li><a href=/altinity-kb-schema-design/materialized-views/ title="ClickHouse® Materialized Views" class="align-left ps-0 td-sidebar-link td-sidebar-link__section" id=m-altinity-kb-schema-designmaterialized-views><span>Materialized Views</span></a><ul class="ul-3 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-altinity-kb-schema-designmaterialized-viewsidempotent_inserts_mv-li><a href=/altinity-kb-schema-design/materialized-views/idempotent_inserts_mv/ title="Idempotent inserts into a materialized view" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-altinity-kb-schema-designmaterialized-viewsidempotent_inserts_mv><span>Idempotent insert MV</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-altinity-kb-schema-designmaterialized-viewsbackfill-populate-mv-in-a-controlled-manner-li><a href=/altinity-kb-schema-design/materialized-views/backfill-populate-mv-in-a-controlled-manner/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-altinity-kb-schema-designmaterialized-viewsbackfill-populate-mv-in-a-controlled-manner><span>Backfill/populate MV in a controlled manner</span></a></li></ul></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child active-path" id=m-altinity-kb-kubernetes-li><a href=/altinity-kb-kubernetes/ class="align-left ps-0 active td-sidebar-link td-sidebar-link__section" id=m-altinity-kb-kubernetes><span class=td-sidebar-nav-active-item>Using the Altinity Kubernetes Operator for ClickHouse®</span></a><ul class="ul-2 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-altinity-kb-kubernetesaltinity-kb-istio-user-issue-k8s-li><a href=/altinity-kb-kubernetes/altinity-kb-istio-user-issue-k8s/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-altinity-kb-kubernetesaltinity-kb-istio-user-issue-k8s><span>Istio Issues</span></a></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-altinity-kb-interfaces-li><a href=/altinity-kb-interfaces/ class="align-left ps-0 td-sidebar-link td-sidebar-link__section" id=m-altinity-kb-interfaces><span>Interfaces</span></a><ul class="ul-2 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-altinity-kb-interfacesaltinity-kb-clickhouse-client-li><a href=/altinity-kb-interfaces/altinity-kb-clickhouse-client/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-altinity-kb-interfacesaltinity-kb-clickhouse-client><span>clickhouse-client</span></a></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-upgrade-li><a href=/upgrade/ class="align-left ps-0 td-sidebar-link td-sidebar-link__section" id=m-upgrade><span>Upgrade</span></a><ul class="ul-2 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-upgradevulnerabilities-li><a href=/upgrade/vulnerabilities/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-upgradevulnerabilities><span>Vulnerabilities</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-upgradeclickhouse-feature-report-li><a href=/upgrade/clickhouse-feature-report/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-upgradeclickhouse-feature-report><span>ClickHouse® Function/Engines/Settings Report</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-upgraderemoving-empty-parts-li><a href=/upgrade/removing-empty-parts/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-upgraderemoving-empty-parts><span>Removing empty parts</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-upgraderemoving-lost-parts-li><a href=/upgrade/removing-lost-parts/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-upgraderemoving-lost-parts><span>Removing lost parts</span></a></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-altinity-kb-dictionaries-li><a href=/altinity-kb-dictionaries/ class="align-left ps-0 td-sidebar-link td-sidebar-link__section" id=m-altinity-kb-dictionaries><span>Dictionaries</span></a><ul class="ul-2 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-altinity-kb-dictionariesdictionaries-and-arrays-li><a href=/altinity-kb-dictionaries/dictionaries-and-arrays/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-altinity-kb-dictionariesdictionaries-and-arrays><span>Dictionaries & arrays</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-altinity-kb-dictionariesdictionary-on-top-tables-li><a href=/altinity-kb-dictionaries/dictionary-on-top-tables/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-altinity-kb-dictionariesdictionary-on-top-tables><span>Dictionary on the top of several tables using VIEW</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-altinity-kb-dictionariesdimension_table_desing-li><a href=/altinity-kb-dictionaries/dimension_table_desing/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-altinity-kb-dictionariesdimension_table_desing><span>Dimension table design</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-altinity-kb-dictionariesexample-of-postgresql-dictionary-li><a href=/altinity-kb-dictionaries/example-of-postgresql-dictionary/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-altinity-kb-dictionariesexample-of-postgresql-dictionary><span>Example of PostgreSQL dictionary</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-altinity-kb-dictionariesmysql8-source-for-dictionaries-li><a href=/altinity-kb-dictionaries/mysql8-source-for-dictionaries/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-altinity-kb-dictionariesmysql8-source-for-dictionaries><span>MySQL8 source for dictionaries</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-altinity-kb-dictionariespartial-updates-li><a href=/altinity-kb-dictionaries/partial-updates/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-altinity-kb-dictionariespartial-updates><span>Partial updates</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-altinity-kb-dictionariesaltinity-kb-range_hashed-example-open-intervals-li><a href=/altinity-kb-dictionaries/altinity-kb-range_hashed-example-open-intervals/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-altinity-kb-dictionariesaltinity-kb-range_hashed-example-open-intervals><span>range_hashed example - open intervals</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-altinity-kb-dictionariessecurity-named-collections-li><a href=/altinity-kb-dictionaries/security-named-collections/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-altinity-kb-dictionariessecurity-named-collections><span>Security named collections</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-altinity-kb-dictionariesaltinity-kb-sparse_hashed-vs-hashed-li><a href=/altinity-kb-dictionaries/altinity-kb-sparse_hashed-vs-hashed/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-altinity-kb-dictionariesaltinity-kb-sparse_hashed-vs-hashed><span>SPARSE_HASHED VS HASHED vs HASHED_ARRAY</span></a></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-using-this-knowledgebase-li><a href=/using-this-knowledgebase/ class="align-left ps-0 td-sidebar-link td-sidebar-link__section" id=m-using-this-knowledgebase><span>Using This Knowledge Base</span></a><ul class="ul-2 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-using-this-knowledgebasemermaid_example-li><a href=/using-this-knowledgebase/mermaid_example/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-using-this-knowledgebasemermaid_example><span>Mermaid Example</span></a></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-upgrade_ebook-li><a href=https://hubs.la/Q03ccpmq0 title="Upgrade eBook" class="align-left ps-0 td-sidebar-link td-sidebar-link__section" id=m-upgrade_ebook><span>ClickHouse® Upgrade eBook</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-maintenance_ebook-li><a href="https://altinity.com/clickhouse-ttl/?utm_campaign=34417448-CH_TTL_eBook&amp;utm_source=KB&amp;utm_medium=CTA_Sidebar" class="align-left ps-0 td-sidebar-link td-sidebar-link__section" id=m-maintenance_ebook><span>ClickHouse TTLs in Practice (eBook)</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-search-li><a href=/search/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-search><span></span></a></li></ul></li></ul></nav></div></aside><aside class="d-none d-xl-block col-xl-2 td-sidebar-toc d-print-none"><div class="td-search td-search--offline"><div class=td-search__icon></div><input type=search class="td-search__input form-control" placeholder="Search this site…" aria-label="Search this site…" autocomplete=off data-offline-search-index-json-src=/offline-search-index.e6cd5419df39c732ef261f152f4b1788.json data-offline-search-base-href=/ data-offline-search-max-results=10></div><div class="td-page-meta ml-2 pb-1 pt-2 mb-0"><a href=https://github.com/Altinity/altinityknowledgebase/edit/main/content/en/altinity-kb-kubernetes/_index.md target=_blank><i class="fa fa-edit fa-fw"></i> Edit this page</a>
<a href="https://github.com/Altinity/altinityknowledgebase/new/main/content/en/altinity-kb-kubernetes/_index.md?filename=change-me.md&amp;value=---%0Atitle%3A+%22Long+Page+Title%22%0AlinkTitle%3A+%22Short+Nav+Title%22%0Aweight%3A+100%0Adescription%3A+%3E-%0A+++++Page+description+for+heading+and+indexes.%0A---%0A%0A%23%23+Heading%0A%0AEdit+this+template+to+create+your+new+page.%0A%0A%2A+Give+it+a+good+name%2C+ending+in+%60.md%60+-+e.g.+%60getting-started.md%60%0A%2A+Edit+the+%22front+matter%22+section+at+the+top+of+the+page+%28weight+controls+how+its+ordered+amongst+other+pages+in+the+same+directory%3B+lowest+number+first%29.%0A%2A+Add+a+good+commit+message+at+the+bottom+of+the+page+%28%3C80+characters%3B+use+the+extended+description+field+for+more+detail%29.%0A%2A+Create+a+new+branch+so+you+can+preview+your+new+file+and+request+a+review+via+Pull+Request.%0A" target=_blank><i class="fa fa-edit fa-fw"></i> Create child page</a>
<a href="https://github.com/Altinity/altinityknowledgebase/issues/new?title=/altinity-kb-kubernetes/" target=_blank><i class="fab fa-github fa-fw"></i> Create documentation issue</a>
<a id=print href=http://kb.altinity.com/altinity-kb-kubernetes/printview/><i class="fa fa-print fa-fw"></i> Print entire section</a></div><nav id=TableOfContents><ul><li><a href=#useful-links>Useful links</a></li><li><a href=#clickhouse-operator-ip-filter>ClickHouse Operator ip filter</a></li><li><a href=#startstop-cluster>Start/Stop cluster</a></li><li><a href=#delete-pvcs>DELETE PVCs</a></li><li><a href=#scaling>Scaling</a></li><li><a href=#check-where-pods-are-executing>Check where pods are executing</a></li><li><a href=#check-node-instance-types>Check node instance types:</a></li><li><a href=#search-for-missing-affinity-rules>Search for missing affinity rules:</a></li><li><a href=#storage-classes>Storage classes</a></li><li><a href=#using-csi-driver-to-protect-storage>Using CSI driver to protect storage:</a></li><li><a href=#enable-resize-of-volumes>Enable Resize of Volumes</a></li><li><a href=#change-server-settings>Change server settings:</a></li><li><a href=#clickhouse-backup-for-chop>Clickhouse-backup for CHOP</a></li><li><a href=#configurations>Configurations:</a></li><li><a href=#clickhouse-operator-install-example>clickhouse-operator install Example:</a><ul><li><a href=#install-operator-in-namespace>Install operator in namespace</a></li><li><a href=#install-zookeeper-ensemble>Install zookeeper ensemble</a></li><li><a href=#deploy-test-cluster>Deploy test cluster</a></li><li><a href=#install-monitoring>Install monitoring:</a></li></ul></li><li><a href=#extra-configs>Extra configs</a></li><li><a href=#kubectl-chi-basic-comands>KUBECTL chi basic comands:</a></li><li><a href=#problem-with-delete-finalizers>Problem with DELETE finalizers:</a></li><li><a href=#karpenter-scaler>Karpenter scaler</a></li><li><a href=#operator-affinities>Operator Affinities:</a></li><li><a href=#deploy-operator-with-clickhouse-keeper>Deploy operator with clickhouse-keeper</a></li><li><a href=#possible-issues-with-running-clickhouse-in-k8s>Possible issues with running ClickHouse in K8s</a><ul><li><a href=#clickhouse-init-process-failed>ClickHouse init process failed</a></li></ul></li></ul></nav><div style=color:#888;line-height:.5></div><div style=font-size:small;color:#000;font-style:normal;background-color:#eee;padding:15px>Altinity®, Altinity.Cloud®, and Altinity Stable® are registered trademarks of Altinity, Inc. ClickHouse® is a registered trademark of ClickHouse, Inc.; Altinity is not affiliated with or associated with ClickHouse, Inc.</div><div style=font-size:medium;font-style:normal;padding:15px><span style=font-size:24px;font-weight:700;color:#199dd0>Project Antalya</span><br>Build Real‑Time Data Lakes with ClickHouse® and Apache Iceberg<br><a href=https://altinity.com/project-antalya-real-time-data-lakes/><span style=font-style:italic;font-weight:700;color:#199dd0>Learn more</span></a></div></aside><main class="col-12 col-md-9 col-xl-8 ps-md-5" role=main><nav aria-label=breadcrumb class="td-breadcrumbs td-breadcrumbs__single"><ol class=breadcrumb><li class="breadcrumb-item active" aria-current=page>Using the Altinity Kubernetes Operator for ClickHouse®</li></ol></nav><div class=td-content><h1>Using the Altinity Kubernetes Operator for ClickHouse®</h1><div class=lead>Run ClickHouse® in Kubernetes without any issues.</div><header class=article-meta></header><h2 id=useful-links>Useful links</h2><p>The Altinity Kubernetes Operator for ClickHouse® repo has very useful documentation:</p><ul><li><a href=https://github.com/Altinity/clickhouse-operator/blob/master/docs/quick_start.md target=_blank>Quick Start Guide</a></li><li><a href=https://github.com/Altinity/clickhouse-operator/blob/master/docs/custom_resource_explained.md target=_blank>Operator Custom Resource Definition explained</a></li><li><a href=https://github.com/Altinity/clickhouse-operator/tree/master/docs/chi-examples target=_blank>Examples - YAML files to deploy the operator in many common configurations</a></li><li><a href=https://github.com/Altinity/clickhouse-operator/tree/master/docs#table-of-contents target=_blank>Main documentation</a></li></ul><h2 id=clickhouse-operator-ip-filter>ClickHouse Operator ip filter</h2><ul><li>In the current version of operator default user is limited to IP addresses of the cluster pods. We plan to have a password option for 0.20.0 and use a &lsquo;secret&rsquo; authentication for distributed queries</li></ul><h2 id=startstop-cluster>Start/Stop cluster</h2><ul><li>Don&rsquo;t delete the operator using:</li></ul><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>kubectl delete -f https://raw.githubusercontent.com/Altinity/clickhouse-operator/master/deploy/operator/clickhouse-operator-install-bundle.yaml
</span></span></code></pre></div><ul><li>kubectl delete chi cluster-name # chi is the name of the CRD clickhouseInstallation</li></ul><h2 id=delete-pvcs>DELETE PVCs</h2><p><a href=https://altinity.com/blog/preventing-clickhouse-storage-deletion-with-the-altinity-kubernetes-operator-reclaimpolicy target=_blank>https://altinity.com/blog/preventing-clickhouse-storage-deletion-with-the-altinity-kubernetes-operator-reclaimpolicy</a></p><h2 id=scaling>Scaling</h2><p>Best way is to scale down the deployments to 0 replicas, after that reboot the node and scale up again:</p><ol><li>first check that all your PVCs have the retain policy:</li></ol><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>kubectl get pv -o<span style=color:#ce5c00;font-weight:700>=</span>custom-columns<span style=color:#ce5c00;font-weight:700>=</span>PV:.metadata.name,NAME:.spec.claimRef.name,POLICY:.spec.persistentVolumeReclaimPolicy
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic># Patch it if you need</span>
</span></span><span style=display:flex><span>kubectl patch pv &lt;pv_id&gt; -p <span style=color:#4e9a06>&#39;{&#34;spec&#34;:{&#34;persistentVolumeReclaimPolicy&#34;:&#34;Retain&#34;}}&#39;</span>
</span></span></code></pre></div><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=display:flex><span><span style=color:#204a87;font-weight:700>spec</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#204a87;font-weight:700>templates</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>    </span><span style=color:#204a87;font-weight:700>volumeClaimTemplates</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>       </span>- <span style=color:#204a87;font-weight:700>name</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>XXX</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>         </span><span style=color:#204a87;font-weight:700>reclaimPolicy</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>Retain</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span></code></pre></div><ol start=2><li>After that just create a stop.yaml and <code>kubectl apply -f stop.yaml</code></li></ol><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=display:flex><span><span style=color:#204a87;font-weight:700>kind</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>ClickHouseInstallation</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline></span><span style=color:#204a87;font-weight:700>spec</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#204a87;font-weight:700>stop</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#204a87;font-weight:700>yes</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span></code></pre></div><ol start=3><li>Reboot kubernetes node</li><li>Scale up deployment changing the stop property to no and do an <code>kubectl apply -f stop.yml</code></li></ol><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=display:flex><span><span style=color:#204a87;font-weight:700>kind</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>ClickHouseInstallation</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline></span><span style=color:#204a87;font-weight:700>spec</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#204a87;font-weight:700>stop</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#204a87;font-weight:700>no</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span></code></pre></div><h2 id=check-where-pods-are-executing>Check where pods are executing</h2><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>kubectl get pod -o<span style=color:#ce5c00;font-weight:700>=</span>custom-columns<span style=color:#ce5c00;font-weight:700>=</span>NAME:.metadata.name,STATUS:.status.phase,NODE:.spec.nodeName -n zk
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic># Check which hosts in which AZs</span>
</span></span><span style=display:flex><span>kubectl get node -o<span style=color:#ce5c00;font-weight:700>=</span>custom-columns<span style=color:#ce5c00;font-weight:700>=</span>NODE:.metadata.name,ZONE:.metadata.labels.<span style=color:#4e9a06>&#39;failure-domain\.beta\.kubernetes\.io/zone&#39;</span>
</span></span></code></pre></div><h2 id=check-node-instance-types>Check node instance types:</h2><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sql data-lang=sql><span style=display:flex><span><span style=color:#000>kubectl</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#204a87;font-weight:700>get</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>nodes</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#ce5c00;font-weight:700>-</span><span style=color:#000>o</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>json</span><span style=color:#ce5c00;font-weight:700>|</span><span style=color:#000>jq</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#ce5c00;font-weight:700>-</span><span style=color:#000>Cjr</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#4e9a06>&#39;.items[] | .metadata.name,&#34; &#34;,.metadata.labels.&#34;beta.kubernetes.io/instance-type&#34;,&#34; &#34;,.metadata.labels.&#34;beta.kubernetes.io/arch&#34;, &#34;\n&#34;&#39;</span><span style=color:#ce5c00;font-weight:700>|</span><span style=color:#000>sort</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#ce5c00;font-weight:700>-</span><span style=color:#000>k3</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#ce5c00;font-weight:700>-</span><span style=color:#000>r</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline></span><span style=color:#000>ip</span><span style=color:#ce5c00;font-weight:700>-</span><span style=color:#0000cf;font-weight:700>10</span><span style=color:#ce5c00;font-weight:700>-</span><span style=color:#0000cf;font-weight:700>3</span><span style=color:#ce5c00;font-weight:700>-</span><span style=color:#0000cf;font-weight:700>9</span><span style=color:#ce5c00;font-weight:700>-</span><span style=color:#0000cf;font-weight:700>2</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>eu</span><span style=color:#ce5c00;font-weight:700>-</span><span style=color:#000>central</span><span style=color:#ce5c00;font-weight:700>-</span><span style=color:#0000cf;font-weight:700>1</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>compute</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>internal</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>t4g</span><span style=color:#000;font-weight:700>.</span><span style=color:#204a87;font-weight:700>large</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>arm64</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline></span><span style=color:#000>ip</span><span style=color:#ce5c00;font-weight:700>-</span><span style=color:#0000cf;font-weight:700>10</span><span style=color:#ce5c00;font-weight:700>-</span><span style=color:#0000cf;font-weight:700>3</span><span style=color:#ce5c00;font-weight:700>-</span><span style=color:#0000cf;font-weight:700>9</span><span style=color:#ce5c00;font-weight:700>-</span><span style=color:#0000cf;font-weight:700>236</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>eu</span><span style=color:#ce5c00;font-weight:700>-</span><span style=color:#000>central</span><span style=color:#ce5c00;font-weight:700>-</span><span style=color:#0000cf;font-weight:700>1</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>compute</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>internal</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>t4g</span><span style=color:#000;font-weight:700>.</span><span style=color:#204a87;font-weight:700>large</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>arm64</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline></span><span style=color:#000>ip</span><span style=color:#ce5c00;font-weight:700>-</span><span style=color:#0000cf;font-weight:700>10</span><span style=color:#ce5c00;font-weight:700>-</span><span style=color:#0000cf;font-weight:700>3</span><span style=color:#ce5c00;font-weight:700>-</span><span style=color:#0000cf;font-weight:700>9</span><span style=color:#ce5c00;font-weight:700>-</span><span style=color:#0000cf;font-weight:700>190</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>eu</span><span style=color:#ce5c00;font-weight:700>-</span><span style=color:#000>central</span><span style=color:#ce5c00;font-weight:700>-</span><span style=color:#0000cf;font-weight:700>1</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>compute</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>internal</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>t4g</span><span style=color:#000;font-weight:700>.</span><span style=color:#204a87;font-weight:700>large</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>arm64</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline></span><span style=color:#000>ip</span><span style=color:#ce5c00;font-weight:700>-</span><span style=color:#0000cf;font-weight:700>10</span><span style=color:#ce5c00;font-weight:700>-</span><span style=color:#0000cf;font-weight:700>3</span><span style=color:#ce5c00;font-weight:700>-</span><span style=color:#0000cf;font-weight:700>9</span><span style=color:#ce5c00;font-weight:700>-</span><span style=color:#0000cf;font-weight:700>138</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>eu</span><span style=color:#ce5c00;font-weight:700>-</span><span style=color:#000>central</span><span style=color:#ce5c00;font-weight:700>-</span><span style=color:#0000cf;font-weight:700>1</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>compute</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>internal</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>t4g</span><span style=color:#000;font-weight:700>.</span><span style=color:#204a87;font-weight:700>large</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>arm64</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline></span><span style=color:#000>ip</span><span style=color:#ce5c00;font-weight:700>-</span><span style=color:#0000cf;font-weight:700>10</span><span style=color:#ce5c00;font-weight:700>-</span><span style=color:#0000cf;font-weight:700>3</span><span style=color:#ce5c00;font-weight:700>-</span><span style=color:#0000cf;font-weight:700>9</span><span style=color:#ce5c00;font-weight:700>-</span><span style=color:#0000cf;font-weight:700>110</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>eu</span><span style=color:#ce5c00;font-weight:700>-</span><span style=color:#000>central</span><span style=color:#ce5c00;font-weight:700>-</span><span style=color:#0000cf;font-weight:700>1</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>compute</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>internal</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>t4g</span><span style=color:#000;font-weight:700>.</span><span style=color:#204a87;font-weight:700>large</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>arm64</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline></span><span style=color:#000>ip</span><span style=color:#ce5c00;font-weight:700>-</span><span style=color:#0000cf;font-weight:700>10</span><span style=color:#ce5c00;font-weight:700>-</span><span style=color:#0000cf;font-weight:700>3</span><span style=color:#ce5c00;font-weight:700>-</span><span style=color:#0000cf;font-weight:700>8</span><span style=color:#ce5c00;font-weight:700>-</span><span style=color:#0000cf;font-weight:700>39</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>eu</span><span style=color:#ce5c00;font-weight:700>-</span><span style=color:#000>central</span><span style=color:#ce5c00;font-weight:700>-</span><span style=color:#0000cf;font-weight:700>1</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>compute</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>internal</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>t4g</span><span style=color:#000;font-weight:700>.</span><span style=color:#204a87;font-weight:700>large</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>arm64</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline></span><span style=color:#000>ip</span><span style=color:#ce5c00;font-weight:700>-</span><span style=color:#0000cf;font-weight:700>10</span><span style=color:#ce5c00;font-weight:700>-</span><span style=color:#0000cf;font-weight:700>3</span><span style=color:#ce5c00;font-weight:700>-</span><span style=color:#0000cf;font-weight:700>8</span><span style=color:#ce5c00;font-weight:700>-</span><span style=color:#0000cf;font-weight:700>219</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>eu</span><span style=color:#ce5c00;font-weight:700>-</span><span style=color:#000>central</span><span style=color:#ce5c00;font-weight:700>-</span><span style=color:#0000cf;font-weight:700>1</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>compute</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>internal</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>t4g</span><span style=color:#000;font-weight:700>.</span><span style=color:#204a87;font-weight:700>large</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>arm64</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline></span><span style=color:#000>ip</span><span style=color:#ce5c00;font-weight:700>-</span><span style=color:#0000cf;font-weight:700>10</span><span style=color:#ce5c00;font-weight:700>-</span><span style=color:#0000cf;font-weight:700>3</span><span style=color:#ce5c00;font-weight:700>-</span><span style=color:#0000cf;font-weight:700>8</span><span style=color:#ce5c00;font-weight:700>-</span><span style=color:#0000cf;font-weight:700>189</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>eu</span><span style=color:#ce5c00;font-weight:700>-</span><span style=color:#000>central</span><span style=color:#ce5c00;font-weight:700>-</span><span style=color:#0000cf;font-weight:700>1</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>compute</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>internal</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>t4g</span><span style=color:#000;font-weight:700>.</span><span style=color:#204a87;font-weight:700>large</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>arm64</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline></span><span style=color:#000>ip</span><span style=color:#ce5c00;font-weight:700>-</span><span style=color:#0000cf;font-weight:700>10</span><span style=color:#ce5c00;font-weight:700>-</span><span style=color:#0000cf;font-weight:700>3</span><span style=color:#ce5c00;font-weight:700>-</span><span style=color:#0000cf;font-weight:700>13</span><span style=color:#ce5c00;font-weight:700>-</span><span style=color:#0000cf;font-weight:700>40</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>eu</span><span style=color:#ce5c00;font-weight:700>-</span><span style=color:#000>central</span><span style=color:#ce5c00;font-weight:700>-</span><span style=color:#0000cf;font-weight:700>1</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>compute</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>internal</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>t4g</span><span style=color:#000;font-weight:700>.</span><span style=color:#204a87;font-weight:700>large</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>arm64</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline></span><span style=color:#000>ip</span><span style=color:#ce5c00;font-weight:700>-</span><span style=color:#0000cf;font-weight:700>10</span><span style=color:#ce5c00;font-weight:700>-</span><span style=color:#0000cf;font-weight:700>3</span><span style=color:#ce5c00;font-weight:700>-</span><span style=color:#0000cf;font-weight:700>12</span><span style=color:#ce5c00;font-weight:700>-</span><span style=color:#0000cf;font-weight:700>248</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>eu</span><span style=color:#ce5c00;font-weight:700>-</span><span style=color:#000>central</span><span style=color:#ce5c00;font-weight:700>-</span><span style=color:#0000cf;font-weight:700>1</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>compute</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>internal</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>t4g</span><span style=color:#000;font-weight:700>.</span><span style=color:#204a87;font-weight:700>large</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>arm64</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline></span><span style=color:#000>ip</span><span style=color:#ce5c00;font-weight:700>-</span><span style=color:#0000cf;font-weight:700>10</span><span style=color:#ce5c00;font-weight:700>-</span><span style=color:#0000cf;font-weight:700>3</span><span style=color:#ce5c00;font-weight:700>-</span><span style=color:#0000cf;font-weight:700>12</span><span style=color:#ce5c00;font-weight:700>-</span><span style=color:#0000cf;font-weight:700>216</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>eu</span><span style=color:#ce5c00;font-weight:700>-</span><span style=color:#000>central</span><span style=color:#ce5c00;font-weight:700>-</span><span style=color:#0000cf;font-weight:700>1</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>compute</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>internal</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>t4g</span><span style=color:#000;font-weight:700>.</span><span style=color:#204a87;font-weight:700>large</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>arm64</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline></span><span style=color:#000>ip</span><span style=color:#ce5c00;font-weight:700>-</span><span style=color:#0000cf;font-weight:700>10</span><span style=color:#ce5c00;font-weight:700>-</span><span style=color:#0000cf;font-weight:700>3</span><span style=color:#ce5c00;font-weight:700>-</span><span style=color:#0000cf;font-weight:700>12</span><span style=color:#ce5c00;font-weight:700>-</span><span style=color:#0000cf;font-weight:700>170</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>eu</span><span style=color:#ce5c00;font-weight:700>-</span><span style=color:#000>central</span><span style=color:#ce5c00;font-weight:700>-</span><span style=color:#0000cf;font-weight:700>1</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>compute</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>internal</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>t4g</span><span style=color:#000;font-weight:700>.</span><span style=color:#204a87;font-weight:700>large</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>arm64</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline></span><span style=color:#000>ip</span><span style=color:#ce5c00;font-weight:700>-</span><span style=color:#0000cf;font-weight:700>10</span><span style=color:#ce5c00;font-weight:700>-</span><span style=color:#0000cf;font-weight:700>3</span><span style=color:#ce5c00;font-weight:700>-</span><span style=color:#0000cf;font-weight:700>11</span><span style=color:#ce5c00;font-weight:700>-</span><span style=color:#0000cf;font-weight:700>229</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>eu</span><span style=color:#ce5c00;font-weight:700>-</span><span style=color:#000>central</span><span style=color:#ce5c00;font-weight:700>-</span><span style=color:#0000cf;font-weight:700>1</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>compute</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>internal</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>t4g</span><span style=color:#000;font-weight:700>.</span><span style=color:#204a87;font-weight:700>large</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>arm64</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline></span><span style=color:#000>ip</span><span style=color:#ce5c00;font-weight:700>-</span><span style=color:#0000cf;font-weight:700>10</span><span style=color:#ce5c00;font-weight:700>-</span><span style=color:#0000cf;font-weight:700>3</span><span style=color:#ce5c00;font-weight:700>-</span><span style=color:#0000cf;font-weight:700>11</span><span style=color:#ce5c00;font-weight:700>-</span><span style=color:#0000cf;font-weight:700>188</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>eu</span><span style=color:#ce5c00;font-weight:700>-</span><span style=color:#000>central</span><span style=color:#ce5c00;font-weight:700>-</span><span style=color:#0000cf;font-weight:700>1</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>compute</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>internal</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>t4g</span><span style=color:#000;font-weight:700>.</span><span style=color:#204a87;font-weight:700>large</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>arm64</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline></span><span style=color:#000>ip</span><span style=color:#ce5c00;font-weight:700>-</span><span style=color:#0000cf;font-weight:700>10</span><span style=color:#ce5c00;font-weight:700>-</span><span style=color:#0000cf;font-weight:700>3</span><span style=color:#ce5c00;font-weight:700>-</span><span style=color:#0000cf;font-weight:700>11</span><span style=color:#ce5c00;font-weight:700>-</span><span style=color:#0000cf;font-weight:700>175</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>eu</span><span style=color:#ce5c00;font-weight:700>-</span><span style=color:#000>central</span><span style=color:#ce5c00;font-weight:700>-</span><span style=color:#0000cf;font-weight:700>1</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>compute</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>internal</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>t4g</span><span style=color:#000;font-weight:700>.</span><span style=color:#204a87;font-weight:700>large</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>arm64</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline></span><span style=color:#000>ip</span><span style=color:#ce5c00;font-weight:700>-</span><span style=color:#0000cf;font-weight:700>10</span><span style=color:#ce5c00;font-weight:700>-</span><span style=color:#0000cf;font-weight:700>3</span><span style=color:#ce5c00;font-weight:700>-</span><span style=color:#0000cf;font-weight:700>10</span><span style=color:#ce5c00;font-weight:700>-</span><span style=color:#0000cf;font-weight:700>218</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>eu</span><span style=color:#ce5c00;font-weight:700>-</span><span style=color:#000>central</span><span style=color:#ce5c00;font-weight:700>-</span><span style=color:#0000cf;font-weight:700>1</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>compute</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>internal</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>t4g</span><span style=color:#000;font-weight:700>.</span><span style=color:#204a87;font-weight:700>large</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>arm64</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline></span><span style=color:#000>ip</span><span style=color:#ce5c00;font-weight:700>-</span><span style=color:#0000cf;font-weight:700>10</span><span style=color:#ce5c00;font-weight:700>-</span><span style=color:#0000cf;font-weight:700>3</span><span style=color:#ce5c00;font-weight:700>-</span><span style=color:#0000cf;font-weight:700>10</span><span style=color:#ce5c00;font-weight:700>-</span><span style=color:#0000cf;font-weight:700>160</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>eu</span><span style=color:#ce5c00;font-weight:700>-</span><span style=color:#000>central</span><span style=color:#ce5c00;font-weight:700>-</span><span style=color:#0000cf;font-weight:700>1</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>compute</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>internal</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>t4g</span><span style=color:#000;font-weight:700>.</span><span style=color:#204a87;font-weight:700>large</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>arm64</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline></span><span style=color:#000>ip</span><span style=color:#ce5c00;font-weight:700>-</span><span style=color:#0000cf;font-weight:700>10</span><span style=color:#ce5c00;font-weight:700>-</span><span style=color:#0000cf;font-weight:700>3</span><span style=color:#ce5c00;font-weight:700>-</span><span style=color:#0000cf;font-weight:700>10</span><span style=color:#ce5c00;font-weight:700>-</span><span style=color:#0000cf;font-weight:700>145</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>eu</span><span style=color:#ce5c00;font-weight:700>-</span><span style=color:#000>central</span><span style=color:#ce5c00;font-weight:700>-</span><span style=color:#0000cf;font-weight:700>1</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>compute</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>internal</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>t4g</span><span style=color:#000;font-weight:700>.</span><span style=color:#204a87;font-weight:700>large</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>arm64</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline></span><span style=color:#000>ip</span><span style=color:#ce5c00;font-weight:700>-</span><span style=color:#0000cf;font-weight:700>10</span><span style=color:#ce5c00;font-weight:700>-</span><span style=color:#0000cf;font-weight:700>3</span><span style=color:#ce5c00;font-weight:700>-</span><span style=color:#0000cf;font-weight:700>9</span><span style=color:#ce5c00;font-weight:700>-</span><span style=color:#0000cf;font-weight:700>57</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>eu</span><span style=color:#ce5c00;font-weight:700>-</span><span style=color:#000>central</span><span style=color:#ce5c00;font-weight:700>-</span><span style=color:#0000cf;font-weight:700>1</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>compute</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>internal</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>m5</span><span style=color:#000;font-weight:700>.</span><span style=color:#204a87;font-weight:700>large</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>amd64</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline></span><span style=color:#000>ip</span><span style=color:#ce5c00;font-weight:700>-</span><span style=color:#0000cf;font-weight:700>10</span><span style=color:#ce5c00;font-weight:700>-</span><span style=color:#0000cf;font-weight:700>3</span><span style=color:#ce5c00;font-weight:700>-</span><span style=color:#0000cf;font-weight:700>8</span><span style=color:#ce5c00;font-weight:700>-</span><span style=color:#0000cf;font-weight:700>146</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>eu</span><span style=color:#ce5c00;font-weight:700>-</span><span style=color:#000>central</span><span style=color:#ce5c00;font-weight:700>-</span><span style=color:#0000cf;font-weight:700>1</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>compute</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>internal</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>m5</span><span style=color:#000;font-weight:700>.</span><span style=color:#204a87;font-weight:700>large</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>amd64</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline></span><span style=color:#000>ip</span><span style=color:#ce5c00;font-weight:700>-</span><span style=color:#0000cf;font-weight:700>10</span><span style=color:#ce5c00;font-weight:700>-</span><span style=color:#0000cf;font-weight:700>3</span><span style=color:#ce5c00;font-weight:700>-</span><span style=color:#0000cf;font-weight:700>13</span><span style=color:#ce5c00;font-weight:700>-</span><span style=color:#0000cf;font-weight:700>1</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>eu</span><span style=color:#ce5c00;font-weight:700>-</span><span style=color:#000>central</span><span style=color:#ce5c00;font-weight:700>-</span><span style=color:#0000cf;font-weight:700>1</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>compute</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>internal</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>m5</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>xlarge</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>amd64</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline></span><span style=color:#000>ip</span><span style=color:#ce5c00;font-weight:700>-</span><span style=color:#0000cf;font-weight:700>10</span><span style=color:#ce5c00;font-weight:700>-</span><span style=color:#0000cf;font-weight:700>3</span><span style=color:#ce5c00;font-weight:700>-</span><span style=color:#0000cf;font-weight:700>11</span><span style=color:#ce5c00;font-weight:700>-</span><span style=color:#0000cf;font-weight:700>52</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>eu</span><span style=color:#ce5c00;font-weight:700>-</span><span style=color:#000>central</span><span style=color:#ce5c00;font-weight:700>-</span><span style=color:#0000cf;font-weight:700>1</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>compute</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>internal</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>m5</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>xlarge</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>amd64</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline></span><span style=color:#000>ip</span><span style=color:#ce5c00;font-weight:700>-</span><span style=color:#0000cf;font-weight:700>10</span><span style=color:#ce5c00;font-weight:700>-</span><span style=color:#0000cf;font-weight:700>3</span><span style=color:#ce5c00;font-weight:700>-</span><span style=color:#0000cf;font-weight:700>11</span><span style=color:#ce5c00;font-weight:700>-</span><span style=color:#0000cf;font-weight:700>187</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>eu</span><span style=color:#ce5c00;font-weight:700>-</span><span style=color:#000>central</span><span style=color:#ce5c00;font-weight:700>-</span><span style=color:#0000cf;font-weight:700>1</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>compute</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>internal</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>m5</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>xlarge</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>amd64</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline></span><span style=color:#000>ip</span><span style=color:#ce5c00;font-weight:700>-</span><span style=color:#0000cf;font-weight:700>10</span><span style=color:#ce5c00;font-weight:700>-</span><span style=color:#0000cf;font-weight:700>3</span><span style=color:#ce5c00;font-weight:700>-</span><span style=color:#0000cf;font-weight:700>10</span><span style=color:#ce5c00;font-weight:700>-</span><span style=color:#0000cf;font-weight:700>217</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>eu</span><span style=color:#ce5c00;font-weight:700>-</span><span style=color:#000>central</span><span style=color:#ce5c00;font-weight:700>-</span><span style=color:#0000cf;font-weight:700>1</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>compute</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>internal</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>m5</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>xlarge</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>amd64</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span></code></pre></div><h2 id=search-for-missing-affinity-rules>Search for missing affinity rules:</h2><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>kubectl get pods -o json -n zk <span style=color:#000;font-weight:700>|</span><span style=color:#4e9a06>\
</span></span></span><span style=display:flex><span><span style=color:#4e9a06></span>jq -r <span style=color:#4e9a06>&#34;[.items[] | {name: .metadata.name,\
</span></span></span><span style=display:flex><span><span style=color:#4e9a06> affinity: .spec.affinity}]&#34;</span>
</span></span><span style=display:flex><span><span style=color:#ce5c00;font-weight:700>[</span>
</span></span><span style=display:flex><span>  <span style=color:#ce5c00;font-weight:700>{</span>
</span></span><span style=display:flex><span>    <span style=color:#4e9a06>&#34;name&#34;</span>: <span style=color:#4e9a06>&#34;zookeeper-0&#34;</span>,
</span></span><span style=display:flex><span>    <span style=color:#4e9a06>&#34;affinity&#34;</span>: null
</span></span><span style=display:flex><span>  <span style=color:#ce5c00;font-weight:700>}</span>,
</span></span><span style=display:flex><span>  . . .
</span></span><span style=display:flex><span><span style=color:#ce5c00;font-weight:700>]</span>
</span></span></code></pre></div><h2 id=storage-classes>Storage classes</h2><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>kubectl get pvc -o<span style=color:#ce5c00;font-weight:700>=</span>custom-columns<span style=color:#ce5c00;font-weight:700>=</span>NAME:.metadata.name,SIZE:.spec.resources.requests.storage,CLASS:.spec.storageClassName,VOLUME:.spec.volumeName
</span></span><span style=display:flex><span>...
</span></span><span style=display:flex><span>NAME                         SIZE   CLASS   VOLUME
</span></span><span style=display:flex><span>datadir-volume-zookeeper-0   25Gi   gp2     pvc-9a3...9ee
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>kubectl get storageclass/gp2 
</span></span><span style=display:flex><span>...
</span></span><span style=display:flex><span>NAME            PROVISIONER       RECLAIMPOLICY...   
</span></span><span style=display:flex><span>gp2 <span style=color:#ce5c00;font-weight:700>(</span>default<span style=color:#ce5c00;font-weight:700>)</span>   ebs.csi.aws.com   Delete
</span></span></code></pre></div><h2 id=using-csi-driver-to-protect-storage>Using CSI driver to protect storage:</h2><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=display:flex><span><span style=color:#204a87;font-weight:700>allowVolumeExpansion</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#204a87;font-weight:700>true</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline></span><span style=color:#204a87;font-weight:700>apiVersion</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>storage.k8s.io/v1</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline></span><span style=color:#204a87;font-weight:700>kind</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>StorageClass</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline></span><span style=color:#204a87;font-weight:700>metadata</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>  </span><span style=color:#204a87;font-weight:700>name</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>gp2-protected</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline></span><span style=color:#204a87;font-weight:700>parameters</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>  </span><span style=color:#204a87;font-weight:700>encrypted</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#4e9a06>&#34;true&#34;</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>  </span><span style=color:#204a87;font-weight:700>type</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>gp2</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline></span><span style=color:#204a87;font-weight:700>provisioner</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>ebs.csi.aws.com</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline></span><span style=color:#204a87;font-weight:700>reclaimPolicy</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>Retain</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline></span><span style=color:#204a87;font-weight:700>volumeBindingMode</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>WaitForFirstConsumer</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span></code></pre></div><h2 id=enable-resize-of-volumes>Enable Resize of Volumes</h2><p>Operator does not delete volumes, so those were probably deleted by Kubernetes. In some new versions there is a feature flag that deletes PVCs attached to STS when STS is deleted.</p><p>Please try do the following: Use operator 0.20.3. Add the following to the defaults:
``</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#204a87;font-weight:700>defaults</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>    </span><span style=color:#204a87;font-weight:700>storageManagement</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>      </span><span style=color:#204a87;font-weight:700>provisioner</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>Operator</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span></code></pre></div><p>That enables storage management by operator, instead of STS. It allows to extend volumes without re-creating STS, and us increase Volume size without restart of clickhouse statefulset pods for CSI drivers which support <code>allowVolumeExpansion</code> in storage classes because statefulset template don&rsquo;t change and we don&rsquo;t need delete/create statefulset</p><h2 id=change-server-settings>Change server settings:</h2><p><a href=https://github.com/Altinity/clickhouse-operator/issues/828 target=_blank>https://github.com/Altinity/clickhouse-operator/issues/828</a></p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=display:flex><span><span style=color:#204a87;font-weight:700>kind</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>ClickHouseInstallation</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline></span><span style=color:#204a87;font-weight:700>spec</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>  </span><span style=color:#204a87;font-weight:700>configuration</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>    </span><span style=color:#204a87;font-weight:700>settings</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>        </span><span style=color:#204a87;font-weight:700>max_concurrent_queries</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#0000cf;font-weight:700>150</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span></code></pre></div><p>Or <strong>edit ClickHouseInstallation:</strong></p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>kubectl -n &lt;namespace&gt; get chi
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>NAME              CLUSTERS   HOSTS   STATUS      HOSTS-COMPLETED   AGE
</span></span><span style=display:flex><span>dnieto-test       <span style=color:#0000cf;font-weight:700>1</span>          <span style=color:#0000cf;font-weight:700>4</span>       Completed                     211d
</span></span><span style=display:flex><span>mbak-test         <span style=color:#0000cf;font-weight:700>1</span>          <span style=color:#0000cf;font-weight:700>1</span>       Completed                     44d
</span></span><span style=display:flex><span>rory-backupmar8   <span style=color:#0000cf;font-weight:700>1</span>          <span style=color:#0000cf;font-weight:700>4</span>       Completed                     42h
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>kubectl -n &lt;namespace&gt; edit ClickHouseInstallation dnieto-test
</span></span></code></pre></div><h2 id=clickhouse-backup-for-chop>Clickhouse-backup for CHOP</h2><p>Examples for use clickhouse-backup + clickhouse-operator for EKS cluster which not managed by <code>altinity.cloud</code></p><p>Main idea: second container in clickhouse pod +  CronJob which will insert and poll <code>system.backup_actions</code> commands to execute clickhouse-backup commands</p><p><a href=https://github.com/AlexAkulov/clickhouse-backup/blob/master/Examples.md#how-to-use-clickhouse-backup-in-kubernetes target=_blank>https://github.com/AlexAkulov/clickhouse-backup/blob/master/Examples.md#how-to-use-clickhouse-backup-in-kubernetes</a></p><h2 id=configurations>Configurations:</h2><p>How to modify yaml configs:</p><p><a href=https://github.com/Altinity/clickhouse-operator/blob/dc6cdc6f2f61fc333248bb78a8f8efe792d14ca2/tests/e2e/manifests/chi/test-016-settings-04.yaml#L26 target=_blank>https://github.com/Altinity/clickhouse-operator/blob/dc6cdc6f2f61fc333248bb78a8f8efe792d14ca2/tests/e2e/manifests/chi/test-016-settings-04.yaml#L26</a></p><h2 id=clickhouse-operator-install-example>clickhouse-operator install Example:</h2><p>use latest release if possible
<a href=https://github.com/Altinity/clickhouse-operator/releases target=_blank>https://github.com/Altinity/clickhouse-operator/releases</a></p><ul><li>No. Nodes/replicas: 2 to 3 nodes with 500GB per node minimum</li><li>Zookeeper: 3 node ensemble</li><li>Type of instances: m6i.x4large to start with and you can go up to m6i.16xlarge</li><li>Persistent Storage/volumes: EBS gp2 for data and logs and gp3 for zookeeper</li></ul><h3 id=install-operator-in-namespace>Install operator in namespace</h3><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#8f5902;font-style:italic>#!/bin/bash
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic></span>
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic># Namespace to install operator into</span>
</span></span><span style=display:flex><span><span style=color:#000>OPERATOR_NAMESPACE</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;</span><span style=color:#4e9a06>${</span><span style=color:#000>OPERATOR_NAMESPACE</span><span style=color:#204a87;font-weight:700>:-</span><span style=color:#000>dnieto</span><span style=color:#000;font-weight:700>-test-chop</span><span style=color:#4e9a06>}</span><span style=color:#4e9a06>&#34;</span>
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic># Namespace to install metrics-exporter into</span>
</span></span><span style=display:flex><span><span style=color:#000>METRICS_EXPORTER_NAMESPACE</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;</span><span style=color:#4e9a06>${</span><span style=color:#000>OPERATOR_NAMESPACE</span><span style=color:#4e9a06>}</span><span style=color:#4e9a06>&#34;</span>
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic># Operator&#39;s docker image</span>
</span></span><span style=display:flex><span><span style=color:#000>OPERATOR_IMAGE</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;</span><span style=color:#4e9a06>${</span><span style=color:#000>OPERATOR_IMAGE</span><span style=color:#204a87;font-weight:700>:-</span><span style=color:#000>altinity</span><span style=color:#000;font-weight:700>/clickhouse-operator:</span><span style=color:#000>latest</span><span style=color:#4e9a06>}</span><span style=color:#4e9a06>&#34;</span>
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic># Metrics exporter&#39;s docker image</span>
</span></span><span style=display:flex><span><span style=color:#000>METRICS_EXPORTER_IMAGE</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;</span><span style=color:#4e9a06>${</span><span style=color:#000>METRICS_EXPORTER_IMAGE</span><span style=color:#204a87;font-weight:700>:-</span><span style=color:#000>altinity</span><span style=color:#000;font-weight:700>/metrics-exporter:</span><span style=color:#000>latest</span><span style=color:#4e9a06>}</span><span style=color:#4e9a06>&#34;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic># Setup clickhouse-operator into specified namespace</span>
</span></span><span style=display:flex><span>kubectl apply --namespace<span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;</span><span style=color:#4e9a06>${</span><span style=color:#000>OPERATOR_NAMESPACE</span><span style=color:#4e9a06>}</span><span style=color:#4e9a06>&#34;</span> -f &lt;<span style=color:#ce5c00;font-weight:700>(</span> <span style=color:#4e9a06>\
</span></span></span><span style=display:flex><span><span style=color:#4e9a06></span>    curl -s https://raw.githubusercontent.com/Altinity/clickhouse-operator/master/deploy/operator/clickhouse-operator-install-template.yaml <span style=color:#000;font-weight:700>|</span> <span style=color:#4e9a06>\
</span></span></span><span style=display:flex><span><span style=color:#4e9a06></span>        <span style=color:#000>OPERATOR_IMAGE</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;</span><span style=color:#4e9a06>${</span><span style=color:#000>OPERATOR_IMAGE</span><span style=color:#4e9a06>}</span><span style=color:#4e9a06>&#34;</span> <span style=color:#4e9a06>\
</span></span></span><span style=display:flex><span><span style=color:#4e9a06></span>        <span style=color:#000>OPERATOR_NAMESPACE</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;</span><span style=color:#4e9a06>${</span><span style=color:#000>OPERATOR_NAMESPACE</span><span style=color:#4e9a06>}</span><span style=color:#4e9a06>&#34;</span> <span style=color:#4e9a06>\
</span></span></span><span style=display:flex><span><span style=color:#4e9a06></span>        <span style=color:#000>METRICS_EXPORTER_IMAGE</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;</span><span style=color:#4e9a06>${</span><span style=color:#000>METRICS_EXPORTER_IMAGE</span><span style=color:#4e9a06>}</span><span style=color:#4e9a06>&#34;</span> <span style=color:#4e9a06>\
</span></span></span><span style=display:flex><span><span style=color:#4e9a06></span>        <span style=color:#000>METRICS_EXPORTER_NAMESPACE</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;</span><span style=color:#4e9a06>${</span><span style=color:#000>METRICS_EXPORTER_NAMESPACE</span><span style=color:#4e9a06>}</span><span style=color:#4e9a06>&#34;</span> <span style=color:#4e9a06>\
</span></span></span><span style=display:flex><span><span style=color:#4e9a06></span>        envsubst <span style=color:#4e9a06>\
</span></span></span><span style=display:flex><span><span style=color:#4e9a06></span><span style=color:#ce5c00;font-weight:700>)</span>
</span></span></code></pre></div><h3 id=install-zookeeper-ensemble>Install zookeeper ensemble</h3><p>zookeepers will be named like zookeeper-0.zoons</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>&gt; kubectl create ns zoo3ns
</span></span><span style=display:flex><span>&gt; kubectl -n zoo3ns apply -f https://raw.githubusercontent.com/Altinity/clickhouse-operator/master/deploy/zookeeper/quick-start-persistent-volume/zookeeper-3-nodes-1GB-for-tests-only.yaml
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic># check names they should be like:</span>
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic># zookeeper.zoo3ns if using a new namespace</span>
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic># If using the same namespace zookeeper.&lt;localnamespace&gt;</span>
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic># zookeeper must be accessed using the service like service_name.namespace</span>
</span></span></code></pre></div><h3 id=deploy-test-cluster>Deploy test cluster</h3><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>&gt; kubectl -n dnieto-test-chop apply -f dnieto-test-chop.yaml
</span></span></code></pre></div><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=display:flex><span><span style=color:#8f5902;font-style:italic># dnieto-test-chop.yaml</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline></span><span style=color:#204a87;font-weight:700>apiVersion</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#4e9a06>&#34;clickhouse.altinity.com/v1&#34;</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline></span><span style=color:#204a87;font-weight:700>kind</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#4e9a06>&#34;ClickHouseInstallation&#34;</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline></span><span style=color:#204a87;font-weight:700>metadata</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>  </span><span style=color:#204a87;font-weight:700>name</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#4e9a06>&#34;dnieto-dev&#34;</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline></span><span style=color:#204a87;font-weight:700>spec</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>  </span><span style=color:#204a87;font-weight:700>configuration</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>    </span><span style=color:#204a87;font-weight:700>settings</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>	    </span><span style=color:#204a87;font-weight:700>max_concurrent_queries</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#4e9a06>&#34;200&#34;</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>			</span><span style=color:#204a87;font-weight:700>merge_tree/ttl_only_drop_parts</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#4e9a06>&#34;1&#34;</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>		</span><span style=color:#204a87;font-weight:700>profiles</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>	    </span><span style=color:#204a87;font-weight:700>default/queue_max_wait_ms</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#4e9a06>&#34;10000&#34;</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>			</span><span style=color:#204a87;font-weight:700>readonly/readonly</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#4e9a06>&#34;1&#34;</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>		</span><span style=color:#204a87;font-weight:700>users</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>      </span><span style=color:#204a87;font-weight:700>admin/networks/ip</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>        </span>- <span style=color:#0000cf;font-weight:700>0.0.0.0</span><span style=color:#000>/0</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>        </span>- <span style=color:#4e9a06>&#39;::/0&#39;</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>			</span><span style=color:#204a87;font-weight:700>admin/password_sha256_hex</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#4e9a06>&#34;&#34;</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>      </span><span style=color:#204a87;font-weight:700>admin/profile</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>default</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>      </span><span style=color:#204a87;font-weight:700>admin/access_management</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#0000cf;font-weight:700>1</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>	  </span><span style=color:#204a87;font-weight:700>zookeeper</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>  
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>			</span><span style=color:#204a87;font-weight:700>nodes</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>        </span>- <span style=color:#204a87;font-weight:700>host</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>zookeeper.dnieto-test-chop</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>          </span><span style=color:#204a87;font-weight:700>port</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#0000cf;font-weight:700>2181</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>		</span><span style=color:#204a87;font-weight:700>clusters</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>      </span>- <span style=color:#204a87;font-weight:700>name</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>dnieto-dev</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>        </span><span style=color:#204a87;font-weight:700>templates</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>          </span><span style=color:#204a87;font-weight:700>podTemplate</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>pod-template-with-volumes</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>          </span><span style=color:#204a87;font-weight:700>serviceTemplate</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>chi-service-template</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>        </span><span style=color:#204a87;font-weight:700>layout</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>          </span><span style=color:#204a87;font-weight:700>shardsCount</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#0000cf;font-weight:700>1</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>          </span><span style=color:#8f5902;font-style:italic># put the number of desired nodes 3 by default</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>          </span><span style=color:#204a87;font-weight:700>replicasCount</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#0000cf;font-weight:700>2</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>  </span><span style=color:#204a87;font-weight:700>templates</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>    </span><span style=color:#204a87;font-weight:700>podTemplates</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>      </span>- <span style=color:#204a87;font-weight:700>name</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>pod-template-with-volumes</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>        </span><span style=color:#204a87;font-weight:700>spec</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>          </span><span style=color:#204a87;font-weight:700>containers</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>            </span>- <span style=color:#204a87;font-weight:700>name</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>clickhouse</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>              </span><span style=color:#204a87;font-weight:700>image</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>clickhouse/clickhouse-server:22.3</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>              </span><span style=color:#8f5902;font-style:italic># separate data from logs </span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>              </span><span style=color:#204a87;font-weight:700>volumeMounts</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>                </span>- <span style=color:#204a87;font-weight:700>name</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>data-storage-vc-template</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>                  </span><span style=color:#204a87;font-weight:700>mountPath</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>/var/lib/clickhouse</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>                </span>- <span style=color:#204a87;font-weight:700>name</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>log-storage-vc-template</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>                  </span><span style=color:#204a87;font-weight:700>mountPath</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>/var/log/clickhouse-server</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>    </span><span style=color:#204a87;font-weight:700>serviceTemplates</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>      </span>- <span style=color:#204a87;font-weight:700>name</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>chi-service-template</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>        </span><span style=color:#204a87;font-weight:700>generateName</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#4e9a06>&#34;service-{chi}&#34;</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>        </span><span style=color:#8f5902;font-style:italic># type ObjectMeta struct from k8s.io/meta/v1</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>        </span><span style=color:#204a87;font-weight:700>metadata</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>          </span><span style=color:#204a87;font-weight:700>annotations</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>						</span><span style=color:#8f5902;font-style:italic># https://kubernetes.io/docs/concepts/services-networking/service/#internal-load-balancer</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>						</span><span style=color:#8f5902;font-style:italic># this tags for elb load balancer</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>            </span><span style=color:#8f5902;font-style:italic>#service.beta.kubernetes.io/aws-load-balancer-backend-protocol: tcp</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>				    </span><span style=color:#8f5902;font-style:italic>#service.beta.kubernetes.io/aws-load-balancer-cross-zone-load-balancing-enabled: &#34;true&#34;</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>						</span><span style=color:#8f5902;font-style:italic>#https://kubernetes.io/docs/concepts/services-networking/service/#aws-nlb-support</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>				    </span><span style=color:#204a87;font-weight:700>service.beta.kubernetes.io/aws-load-balancer-internal</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#4e9a06>&#34;true&#34;</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>					  </span><span style=color:#204a87;font-weight:700>service.beta.kubernetes.io/aws-load-balancer-type</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>nlb</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>				</span><span style=color:#204a87;font-weight:700>spec</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>          </span><span style=color:#204a87;font-weight:700>ports</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>            </span>- <span style=color:#204a87;font-weight:700>name</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>http</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>              </span><span style=color:#204a87;font-weight:700>port</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#0000cf;font-weight:700>8123</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>            </span>- <span style=color:#204a87;font-weight:700>name</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>client</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>              </span><span style=color:#204a87;font-weight:700>port</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#0000cf;font-weight:700>9000</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>          </span><span style=color:#204a87;font-weight:700>type</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>LoadBalancer</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>    </span><span style=color:#204a87;font-weight:700>volumeClaimTemplates</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>      </span>- <span style=color:#204a87;font-weight:700>name</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>data-storage-vc-template</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>        </span><span style=color:#204a87;font-weight:700>spec</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>        </span><span style=color:#8f5902;font-style:italic># no storageClassName - means use default storageClassName</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>        </span><span style=color:#8f5902;font-style:italic># storageClassName: default</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>        </span><span style=color:#8f5902;font-style:italic># here if you have a storageClassName defined for gp2 you can use it.</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>        </span><span style=color:#8f5902;font-style:italic># kubectl get storageclass</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>          </span><span style=color:#204a87;font-weight:700>accessModes</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>            </span>- <span style=color:#000>ReadWriteOnce</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>          </span><span style=color:#204a87;font-weight:700>resources</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>            </span><span style=color:#204a87;font-weight:700>requests</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>              </span><span style=color:#204a87;font-weight:700>storage</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>50Gi</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>        </span><span style=color:#204a87;font-weight:700>reclaimPolicy</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>Retain</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>      </span>- <span style=color:#204a87;font-weight:700>name</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>log-storage-vc-template</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>        </span><span style=color:#204a87;font-weight:700>spec</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>          </span><span style=color:#204a87;font-weight:700>accessModes</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>            </span>- <span style=color:#000>ReadWriteOnce</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>          </span><span style=color:#204a87;font-weight:700>resources</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>            </span><span style=color:#204a87;font-weight:700>requests</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>              </span><span style=color:#204a87;font-weight:700>storage</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>2Gi</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span></code></pre></div><h3 id=install-monitoring>Install monitoring:</h3><p>In order to setup prometheus as a backend for all the asynchronous_metric_log / metric_log tables and also set up grafana dashboards:</p><ul><li><a href=https://github.com/Altinity/clickhouse-operator/blob/master/docs/prometheus_setup.md target=_blank>https://github.com/Altinity/clickhouse-operator/blob/master/docs/prometheus_setup.md</a></li><li><a href=https://github.com/Altinity/clickhouse-operator/blob/master/docs/grafana_setup.md target=_blank>https://github.com/Altinity/clickhouse-operator/blob/master/docs/grafana_setup.md</a></li><li><a href=https://github.com/Altinity/clickhouse-operator/blob/master/docs/monitoring_setup.md target=_blank>clickhouse-operator/monitoring_setup.md at master · Altinity/clickhouse-operator</a></li></ul><h2 id=extra-configs>Extra configs</h2><p>There is an admin user by default in the deployment that is used to admin stuff</p><h2 id=kubectl-chi-basic-comands>KUBECTL chi basic comands:</h2><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>*&gt; kubectl get crd*
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>NAME                                                       CREATED AT
</span></span><span style=display:flex><span>clickhouseinstallations.clickhouse.altinity.com            2021-10-11T13:46:43Z
</span></span><span style=display:flex><span>clickhouseinstallationtemplates.clickhouse.altinity.com    2021-10-11T13:46:44Z
</span></span><span style=display:flex><span>clickhouseoperatorconfigurations.clickhouse.altinity.com   2021-10-11T13:46:44Z
</span></span><span style=display:flex><span>eniconfigs.crd.k8s.amazonaws.com                           2021-10-11T13:41:23Z
</span></span><span style=display:flex><span>grafanadashboards.integreatly.org                          2021-10-11T13:54:37Z
</span></span><span style=display:flex><span>grafanadatasources.integreatly.org                         2021-10-11T13:54:38Z
</span></span><span style=display:flex><span>grafananotificationchannels.integreatly.org                2022-05-17T14:27:48Z
</span></span><span style=display:flex><span>grafanas.integreatly.org                                   2021-10-11T13:54:37Z
</span></span><span style=display:flex><span>provisioners.karpenter.sh                                  2022-05-17T14:27:49Z
</span></span><span style=display:flex><span>securitygrouppolicies.vpcresources.k8s.aws                 2021-10-11T13:41:27Z
</span></span><span style=display:flex><span>volumesnapshotclasses.snapshot.storage.k8s.io              2022-04-22T13:34:20Z
</span></span><span style=display:flex><span>volumesnapshotcontents.snapshot.storage.k8s.io             2022-04-22T13:34:20Z
</span></span><span style=display:flex><span>volumesnapshots.snapshot.storage.k8s.io                    2022-04-22T13:34:20Z
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>&gt; *kubectl -n test-clickhouse-operator-dnieto2 get chi*
</span></span><span style=display:flex><span>NAME        CLUSTERS   HOSTS   STATUS   HOSTS-COMPLETED   AGE
</span></span><span style=display:flex><span>simple-01                                                 70m
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>&gt; *kubectl -n test-clickhouse-operator-dnieto2 describe chi simple-01*
</span></span><span style=display:flex><span>Name:         simple-01
</span></span><span style=display:flex><span>Namespace:    test-clickhouse-operator-dnieto2
</span></span><span style=display:flex><span>Labels:       &lt;none&gt;
</span></span><span style=display:flex><span>Annotations:  &lt;none&gt;
</span></span><span style=display:flex><span>API Version:  clickhouse.altinity.com/v1
</span></span><span style=display:flex><span>Kind:         ClickHouseInstallation
</span></span><span style=display:flex><span>Metadata:
</span></span><span style=display:flex><span>  Creation Timestamp:  2023-01-09T20:38:06Z
</span></span><span style=display:flex><span>  Generation:          <span style=color:#0000cf;font-weight:700>1</span>
</span></span><span style=display:flex><span>  Managed Fields:
</span></span><span style=display:flex><span>    API Version:  clickhouse.altinity.com/v1
</span></span><span style=display:flex><span>    Fields Type:  FieldsV1
</span></span><span style=display:flex><span>    fieldsV1:
</span></span><span style=display:flex><span>      f:metadata:
</span></span><span style=display:flex><span>        f:annotations:
</span></span><span style=display:flex><span>          .:
</span></span><span style=display:flex><span>          f:kubectl.kubernetes.io/last-applied-configuration:
</span></span><span style=display:flex><span>      f:spec:
</span></span><span style=display:flex><span>        .:
</span></span><span style=display:flex><span>        f:configuration:
</span></span><span style=display:flex><span>          .:
</span></span><span style=display:flex><span>          f:clusters:
</span></span><span style=display:flex><span>    Manager:         kubectl-client-side-apply
</span></span><span style=display:flex><span>    Operation:       Update
</span></span><span style=display:flex><span>    Time:            2023-01-09T20:38:06Z
</span></span><span style=display:flex><span>  Resource Version:  <span style=color:#0000cf;font-weight:700>267483138</span>
</span></span><span style=display:flex><span>  UID:               d7018efa-2b13-42fd-b1c5-b798fc6d0098
</span></span><span style=display:flex><span>Spec:
</span></span><span style=display:flex><span>  Configuration:
</span></span><span style=display:flex><span>    Clusters:
</span></span><span style=display:flex><span>      Name:  simple
</span></span><span style=display:flex><span>Events:      &lt;none&gt;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>&gt; *kubectl get chi --all-namespaces*
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>NAMESPACE                          NAME                             CLUSTERS   HOSTS   STATUS      HOSTS-COMPLETED   AGE
</span></span><span style=display:flex><span>andrey-dev                         <span style=color:#204a87>source</span>                           <span style=color:#0000cf;font-weight:700>1</span>          <span style=color:#0000cf;font-weight:700>1</span>       Completed                     38d
</span></span><span style=display:flex><span>eu                                 chi-dnieto-test-common-configd   <span style=color:#0000cf;font-weight:700>1</span>          <span style=color:#0000cf;font-weight:700>1</span>       Completed                     161d
</span></span><span style=display:flex><span>eu                                 dnieto-test                      <span style=color:#0000cf;font-weight:700>1</span>          <span style=color:#0000cf;font-weight:700>4</span>       Completed                     151d
</span></span><span style=display:flex><span>laszlo-dev                         node-rescale-2                   <span style=color:#0000cf;font-weight:700>1</span>          <span style=color:#0000cf;font-weight:700>4</span>       Completed                     5d13h
</span></span><span style=display:flex><span>laszlo-dev                         single                           <span style=color:#0000cf;font-weight:700>1</span>          <span style=color:#0000cf;font-weight:700>1</span>       Completed                     5d13h
</span></span><span style=display:flex><span>laszlo-dev2                        zk2                              <span style=color:#0000cf;font-weight:700>1</span>          <span style=color:#0000cf;font-weight:700>1</span>       Completed                     52d
</span></span><span style=display:flex><span>test-clickhouse-operator-dnieto2   simple-01
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>&gt; *kubectl -n test-clickhouse-operator-dnieto2 edit clickhouseinstallations.clickhouse.altinity.com simple-01
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic># Troubleshoot operator stuff</span>
</span></span><span style=display:flex><span>&gt; kubectl -n test-clickhouse-operator-ns edit chi
</span></span><span style=display:flex><span>&gt; kubectl -n test-clickhouse-operator describe chi
</span></span><span style=display:flex><span>&gt; kubectl -n test-clickhouse-operator get chi -o yaml
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic># Check operator logs usually located in kube-system or specific namespace</span>
</span></span><span style=display:flex><span>&gt; kubectl -n test-ns logs chi-operator-pod -f
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic># Check output to yaml</span>
</span></span><span style=display:flex><span>&gt; kubectl -n test-ns get services -o yaml*
</span></span></code></pre></div><h2 id=problem-with-delete-finalizers>Problem with DELETE finalizers:</h2><p><a href=https://github.com/Altinity/clickhouse-operator/issues/830 target=_blank>https://github.com/Altinity/clickhouse-operator/issues/830</a></p><p>There&rsquo;s a problem with stuck finalizers that can cause old CHI installations to hang. The sequence of operations looks like this.</p><ol><li>You delete the existing ClickHouse operator using <code>kubectl delete -f operator-installation.yaml</code> with running CHI clusters.</li><li>You then drop the namespace where the CHI clusters are running, e.g., <code>kubectl delete ns my-namespace</code></li><li>This hangs. You run <code>kubectl get ns my-namespace -o yaml</code> and you&rsquo;ll see a message like the following: &ldquo;message: &lsquo;Some content in the namespace has finalizers remaining: <a href=http://finalizer.clickhouseinstallation.altinity.com/ target=_blank>finalizer.clickhouseinstallation.altinity.com</a>
&rdquo;</li></ol><p>That means the CHI can&rsquo;t delete because its finalizer was deleted out from under it.</p><p>The fix is to figure out the chi name which should still be visible and edit it to remove the finalizer reference.</p><ol><li><code>kubectl -n my-namespace get chi</code></li><li><code>kubectl -n my-namespace edit [clickhouseinstallations.clickhouse.altinity.com](http://clickhouseinstallations.clickhouse.altinity.com/) my-clickhouse-cluster</code></li></ol><p>Remove the finalizer from the spec, save it, and everything will delete properly.</p><p><strong><code>TIP: if you delete the ns too and there is no ns just create it and apply the above method</code></strong></p><h2 id=karpenter-scaler>Karpenter scaler</h2><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sql data-lang=sql><span style=display:flex><span><span style=color:#ce5c00;font-weight:700>&gt;</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>kubectl</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#ce5c00;font-weight:700>-</span><span style=color:#000>n</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>karpenter</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#204a87;font-weight:700>get</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#204a87;font-weight:700>all</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline></span><span style=color:#000>NAME</span><span style=color:#f8f8f8;text-decoration:underline>                             </span><span style=color:#000>READY</span><span style=color:#f8f8f8;text-decoration:underline>   </span><span style=color:#000>STATUS</span><span style=color:#f8f8f8;text-decoration:underline>    </span><span style=color:#000>RESTARTS</span><span style=color:#f8f8f8;text-decoration:underline>   </span><span style=color:#000>AGE</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline></span><span style=color:#000>pod</span><span style=color:#ce5c00;font-weight:700>/</span><span style=color:#000>karpenter</span><span style=color:#ce5c00;font-weight:700>-</span><span style=color:#0000cf;font-weight:700>75</span><span style=color:#000>c8b7667b</span><span style=color:#ce5c00;font-weight:700>-</span><span style=color:#000>vbmj4</span><span style=color:#f8f8f8;text-decoration:underline>   </span><span style=color:#0000cf;font-weight:700>1</span><span style=color:#ce5c00;font-weight:700>/</span><span style=color:#0000cf;font-weight:700>1</span><span style=color:#f8f8f8;text-decoration:underline>     </span><span style=color:#000>Running</span><span style=color:#f8f8f8;text-decoration:underline>   </span><span style=color:#0000cf;font-weight:700>0</span><span style=color:#f8f8f8;text-decoration:underline>          </span><span style=color:#0000cf;font-weight:700>16</span><span style=color:#000>d</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline></span><span style=color:#000>pod</span><span style=color:#ce5c00;font-weight:700>/</span><span style=color:#000>karpenter</span><span style=color:#ce5c00;font-weight:700>-</span><span style=color:#0000cf;font-weight:700>75</span><span style=color:#000>c8b7667b</span><span style=color:#ce5c00;font-weight:700>-</span><span style=color:#000>wszxt</span><span style=color:#f8f8f8;text-decoration:underline>   </span><span style=color:#0000cf;font-weight:700>1</span><span style=color:#ce5c00;font-weight:700>/</span><span style=color:#0000cf;font-weight:700>1</span><span style=color:#f8f8f8;text-decoration:underline>     </span><span style=color:#000>Running</span><span style=color:#f8f8f8;text-decoration:underline>   </span><span style=color:#0000cf;font-weight:700>0</span><span style=color:#f8f8f8;text-decoration:underline>          </span><span style=color:#0000cf;font-weight:700>16</span><span style=color:#000>d</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline></span><span style=color:#000>NAME</span><span style=color:#f8f8f8;text-decoration:underline>                </span><span style=color:#204a87;font-weight:700>TYPE</span><span style=color:#f8f8f8;text-decoration:underline>        </span><span style=color:#204a87;font-weight:700>CLUSTER</span><span style=color:#ce5c00;font-weight:700>-</span><span style=color:#000>IP</span><span style=color:#f8f8f8;text-decoration:underline>       </span><span style=color:#204a87;font-weight:700>EXTERNAL</span><span style=color:#ce5c00;font-weight:700>-</span><span style=color:#000>IP</span><span style=color:#f8f8f8;text-decoration:underline>   </span><span style=color:#000>PORT</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>S</span><span style=color:#000;font-weight:700>)</span><span style=color:#f8f8f8;text-decoration:underline>            </span><span style=color:#000>AGE</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline></span><span style=color:#000>service</span><span style=color:#ce5c00;font-weight:700>/</span><span style=color:#000>karpenter</span><span style=color:#f8f8f8;text-decoration:underline>   </span><span style=color:#000>ClusterIP</span><span style=color:#f8f8f8;text-decoration:underline>   </span><span style=color:#0000cf;font-weight:700>172</span><span style=color:#000;font-weight:700>.</span><span style=color:#0000cf;font-weight:700>20</span><span style=color:#000;font-weight:700>.</span><span style=color:#0000cf;font-weight:700>129</span><span style=color:#000;font-weight:700>.</span><span style=color:#0000cf;font-weight:700>188</span><span style=color:#f8f8f8;text-decoration:underline>   </span><span style=color:#ce5c00;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>none</span><span style=color:#ce5c00;font-weight:700>&gt;</span><span style=color:#f8f8f8;text-decoration:underline>        </span><span style=color:#0000cf;font-weight:700>8080</span><span style=color:#ce5c00;font-weight:700>/</span><span style=color:#000>TCP</span><span style=color:#000;font-weight:700>,</span><span style=color:#0000cf;font-weight:700>443</span><span style=color:#ce5c00;font-weight:700>/</span><span style=color:#000>TCP</span><span style=color:#f8f8f8;text-decoration:underline>   </span><span style=color:#0000cf;font-weight:700>16</span><span style=color:#000>d</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline></span><span style=color:#000>NAME</span><span style=color:#f8f8f8;text-decoration:underline>                        </span><span style=color:#000>READY</span><span style=color:#f8f8f8;text-decoration:underline>   </span><span style=color:#000>UP</span><span style=color:#ce5c00;font-weight:700>-</span><span style=color:#204a87;font-weight:700>TO</span><span style=color:#ce5c00;font-weight:700>-</span><span style=color:#204a87>DATE</span><span style=color:#f8f8f8;text-decoration:underline>   </span><span style=color:#000>AVAILABLE</span><span style=color:#f8f8f8;text-decoration:underline>   </span><span style=color:#000>AGE</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline></span><span style=color:#000>deployment</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>apps</span><span style=color:#ce5c00;font-weight:700>/</span><span style=color:#000>karpenter</span><span style=color:#f8f8f8;text-decoration:underline>   </span><span style=color:#0000cf;font-weight:700>2</span><span style=color:#ce5c00;font-weight:700>/</span><span style=color:#0000cf;font-weight:700>2</span><span style=color:#f8f8f8;text-decoration:underline>     </span><span style=color:#0000cf;font-weight:700>2</span><span style=color:#f8f8f8;text-decoration:underline>            </span><span style=color:#0000cf;font-weight:700>2</span><span style=color:#f8f8f8;text-decoration:underline>           </span><span style=color:#0000cf;font-weight:700>16</span><span style=color:#000>d</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline></span><span style=color:#000>NAME</span><span style=color:#f8f8f8;text-decoration:underline>                                   </span><span style=color:#000>DESIRED</span><span style=color:#f8f8f8;text-decoration:underline>   </span><span style=color:#204a87;font-weight:700>CURRENT</span><span style=color:#f8f8f8;text-decoration:underline>   </span><span style=color:#000>READY</span><span style=color:#f8f8f8;text-decoration:underline>   </span><span style=color:#000>AGE</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline></span><span style=color:#000>replicaset</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>apps</span><span style=color:#ce5c00;font-weight:700>/</span><span style=color:#000>karpenter</span><span style=color:#ce5c00;font-weight:700>-</span><span style=color:#0000cf;font-weight:700>75</span><span style=color:#000>c8b7667b</span><span style=color:#f8f8f8;text-decoration:underline>   </span><span style=color:#0000cf;font-weight:700>2</span><span style=color:#f8f8f8;text-decoration:underline>         </span><span style=color:#0000cf;font-weight:700>2</span><span style=color:#f8f8f8;text-decoration:underline>         </span><span style=color:#0000cf;font-weight:700>2</span><span style=color:#f8f8f8;text-decoration:underline>       </span><span style=color:#0000cf;font-weight:700>16</span><span style=color:#000>d</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline></span><span style=color:#ce5c00;font-weight:700>&gt;</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>kubectl</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#ce5c00;font-weight:700>-</span><span style=color:#000>n</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>karpenter</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>logs</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>pod</span><span style=color:#ce5c00;font-weight:700>/</span><span style=color:#000>karpenter</span><span style=color:#ce5c00;font-weight:700>-</span><span style=color:#0000cf;font-weight:700>75</span><span style=color:#000>c8b7667b</span><span style=color:#ce5c00;font-weight:700>-</span><span style=color:#000>vbmj4</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline></span><span style=color:#0000cf;font-weight:700>2023</span><span style=color:#ce5c00;font-weight:700>-</span><span style=color:#0000cf;font-weight:700>02</span><span style=color:#ce5c00;font-weight:700>-</span><span style=color:#0000cf;font-weight:700>06</span><span style=color:#000>T06</span><span style=color:#000;font-weight:700>:</span><span style=color:#0000cf;font-weight:700>33</span><span style=color:#000;font-weight:700>:</span><span style=color:#0000cf;font-weight:700>44</span><span style=color:#000;font-weight:700>.</span><span style=color:#0000cf;font-weight:700>269</span><span style=color:#000>Z</span><span style=color:#f8f8f8;text-decoration:underline>	</span><span style=color:#000>DEBUG</span><span style=color:#f8f8f8;text-decoration:underline>	</span><span style=color:#000>Successfully</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>created</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>the</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>logger</span><span style=color:#000;font-weight:700>.</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline></span><span style=color:#0000cf;font-weight:700>2023</span><span style=color:#ce5c00;font-weight:700>-</span><span style=color:#0000cf;font-weight:700>02</span><span style=color:#ce5c00;font-weight:700>-</span><span style=color:#0000cf;font-weight:700>06</span><span style=color:#000>T06</span><span style=color:#000;font-weight:700>:</span><span style=color:#0000cf;font-weight:700>33</span><span style=color:#000;font-weight:700>:</span><span style=color:#0000cf;font-weight:700>44</span><span style=color:#000;font-weight:700>.</span><span style=color:#0000cf;font-weight:700>269</span><span style=color:#000>Z</span><span style=color:#f8f8f8;text-decoration:underline>	</span><span style=color:#000>DEBUG</span><span style=color:#f8f8f8;text-decoration:underline>	</span><span style=color:#000>Logging</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#204a87;font-weight:700>level</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#204a87;font-weight:700>set</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#204a87;font-weight:700>to</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>debug</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline></span><span style=color:#a40000>{</span><span style=color:#4e9a06>&#34;level&#34;</span><span style=color:#000;font-weight:700>:</span><span style=color:#4e9a06>&#34;info&#34;</span><span style=color:#000;font-weight:700>,</span><span style=color:#4e9a06>&#34;ts&#34;</span><span style=color:#000;font-weight:700>:</span><span style=color:#0000cf;font-weight:700>1675665224</span><span style=color:#000;font-weight:700>.</span><span style=color:#0000cf;font-weight:700>2755454</span><span style=color:#000;font-weight:700>,</span><span style=color:#4e9a06>&#34;logger&#34;</span><span style=color:#000;font-weight:700>:</span><span style=color:#4e9a06>&#34;fallback&#34;</span><span style=color:#000;font-weight:700>,</span><span style=color:#4e9a06>&#34;caller&#34;</span><span style=color:#000;font-weight:700>:</span><span style=color:#4e9a06>&#34;injection/injection.go:63&#34;</span><span style=color:#000;font-weight:700>,</span><span style=color:#4e9a06>&#34;msg&#34;</span><span style=color:#000;font-weight:700>:</span><span style=color:#4e9a06>&#34;Starting informers...&#34;</span><span style=color:#a40000>}</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline></span><span style=color:#0000cf;font-weight:700>2023</span><span style=color:#ce5c00;font-weight:700>-</span><span style=color:#0000cf;font-weight:700>02</span><span style=color:#ce5c00;font-weight:700>-</span><span style=color:#0000cf;font-weight:700>06</span><span style=color:#000>T06</span><span style=color:#000;font-weight:700>:</span><span style=color:#0000cf;font-weight:700>33</span><span style=color:#000;font-weight:700>:</span><span style=color:#0000cf;font-weight:700>44</span><span style=color:#000;font-weight:700>.</span><span style=color:#0000cf;font-weight:700>376</span><span style=color:#000>Z</span><span style=color:#f8f8f8;text-decoration:underline>	</span><span style=color:#000>DEBUG</span><span style=color:#f8f8f8;text-decoration:underline>	</span><span style=color:#000>controller</span><span style=color:#f8f8f8;text-decoration:underline>	</span><span style=color:#000>waiting</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#204a87;font-weight:700>for</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>configmaps</span><span style=color:#f8f8f8;text-decoration:underline>	</span><span style=color:#a40000>{</span><span style=color:#4e9a06>&#34;commit&#34;</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#4e9a06>&#34;f60dacd&#34;</span><span style=color:#000;font-weight:700>,</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#4e9a06>&#34;configmaps&#34;</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000;font-weight:700>[</span><span style=color:#4e9a06>&#34;karpenter-global-settings&#34;</span><span style=color:#000;font-weight:700>]</span><span style=color:#a40000>}</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline></span><span style=color:#0000cf;font-weight:700>2023</span><span style=color:#ce5c00;font-weight:700>-</span><span style=color:#0000cf;font-weight:700>02</span><span style=color:#ce5c00;font-weight:700>-</span><span style=color:#0000cf;font-weight:700>06</span><span style=color:#000>T06</span><span style=color:#000;font-weight:700>:</span><span style=color:#0000cf;font-weight:700>33</span><span style=color:#000;font-weight:700>:</span><span style=color:#0000cf;font-weight:700>44</span><span style=color:#000;font-weight:700>.</span><span style=color:#0000cf;font-weight:700>881</span><span style=color:#000>Z</span><span style=color:#f8f8f8;text-decoration:underline>	</span><span style=color:#000>DEBUG</span><span style=color:#f8f8f8;text-decoration:underline>	</span><span style=color:#000>controller</span><span style=color:#f8f8f8;text-decoration:underline>	</span><span style=color:#000>karpenter</span><span style=color:#ce5c00;font-weight:700>-</span><span style=color:#204a87;font-weight:700>global</span><span style=color:#ce5c00;font-weight:700>-</span><span style=color:#000>settings</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>config</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#4e9a06>&#34;karpenter-global-settings&#34;</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>config</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>was</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>added</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#204a87;font-weight:700>or</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>updated</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>settings</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>Settings</span><span style=color:#a40000>{</span><span style=color:#000>BatchMaxDuration</span><span style=color:#000;font-weight:700>:</span><span style=color:#000>v1</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>Duration</span><span style=color:#a40000>{</span><span style=color:#000>Duration</span><span style=color:#000;font-weight:700>:</span><span style=color:#0000cf;font-weight:700>10000000000</span><span style=color:#a40000>}</span><span style=color:#000;font-weight:700>,</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>BatchIdleDuration</span><span style=color:#000;font-weight:700>:</span><span style=color:#000>v1</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>Duration</span><span style=color:#a40000>{</span><span style=color:#000>Duration</span><span style=color:#000;font-weight:700>:</span><span style=color:#0000cf;font-weight:700>1000000000</span><span style=color:#a40000>}}</span><span style=color:#f8f8f8;text-decoration:underline>	</span><span style=color:#a40000>{</span><span style=color:#4e9a06>&#34;commit&#34;</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#4e9a06>&#34;f60dacd&#34;</span><span style=color:#a40000>}</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline></span><span style=color:#0000cf;font-weight:700>2023</span><span style=color:#ce5c00;font-weight:700>-</span><span style=color:#0000cf;font-weight:700>02</span><span style=color:#ce5c00;font-weight:700>-</span><span style=color:#0000cf;font-weight:700>06</span><span style=color:#000>T06</span><span style=color:#000;font-weight:700>:</span><span style=color:#0000cf;font-weight:700>33</span><span style=color:#000;font-weight:700>:</span><span style=color:#0000cf;font-weight:700>44</span><span style=color:#000;font-weight:700>.</span><span style=color:#0000cf;font-weight:700>881</span><span style=color:#000>Z</span><span style=color:#f8f8f8;text-decoration:underline>	</span><span style=color:#000>DEBUG</span><span style=color:#f8f8f8;text-decoration:underline>	</span><span style=color:#000>controller</span><span style=color:#f8f8f8;text-decoration:underline>	</span><span style=color:#000>karpenter</span><span style=color:#ce5c00;font-weight:700>-</span><span style=color:#204a87;font-weight:700>global</span><span style=color:#ce5c00;font-weight:700>-</span><span style=color:#000>settings</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>config</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#4e9a06>&#34;karpenter-global-settings&#34;</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>config</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>was</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>added</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#204a87;font-weight:700>or</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>updated</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>settings</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>Settings</span><span style=color:#a40000>{</span><span style=color:#000>ClusterName</span><span style=color:#000;font-weight:700>:</span><span style=color:#4e9a06>&#34;eu&#34;</span><span style=color:#000;font-weight:700>,</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>ClusterEndpoint</span><span style=color:#000;font-weight:700>:</span><span style=color:#4e9a06>&#34;https://79974769E264251E43B18AF4CA31CE8C.gr7.eu-central-1.eks.amazonaws.com&#34;</span><span style=color:#000;font-weight:700>,</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>DefaultInstanceProfile</span><span style=color:#000;font-weight:700>:</span><span style=color:#4e9a06>&#34;KarpenterNodeInstanceProfile-eu&#34;</span><span style=color:#000;font-weight:700>,</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>EnablePodENI</span><span style=color:#000;font-weight:700>:</span><span style=color:#204a87;font-weight:700>false</span><span style=color:#000;font-weight:700>,</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>EnableENILimitedPodDensity</span><span style=color:#000;font-weight:700>:</span><span style=color:#204a87;font-weight:700>true</span><span style=color:#000;font-weight:700>,</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>IsolatedVPC</span><span style=color:#000;font-weight:700>:</span><span style=color:#204a87;font-weight:700>false</span><span style=color:#000;font-weight:700>,</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>NodeNameConvention</span><span style=color:#000;font-weight:700>:</span><span style=color:#4e9a06>&#34;ip-name&#34;</span><span style=color:#000;font-weight:700>,</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>VMMemoryOverheadPercent</span><span style=color:#000;font-weight:700>:</span><span style=color:#0000cf;font-weight:700>0</span><span style=color:#000;font-weight:700>.</span><span style=color:#0000cf;font-weight:700>075</span><span style=color:#000;font-weight:700>,</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>InterruptionQueueName</span><span style=color:#000;font-weight:700>:</span><span style=color:#4e9a06>&#34;Karpenter-eu&#34;</span><span style=color:#000;font-weight:700>,</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>Tags</span><span style=color:#000;font-weight:700>:</span><span style=color:#204a87;font-weight:700>map</span><span style=color:#000;font-weight:700>[</span><span style=color:#000>string</span><span style=color:#000;font-weight:700>]</span><span style=color:#000>string</span><span style=color:#a40000>{}}</span><span style=color:#f8f8f8;text-decoration:underline>	</span><span style=color:#a40000>{</span><span style=color:#4e9a06>&#34;commit&#34;</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#4e9a06>&#34;f60dacd&#34;</span><span style=color:#a40000>}</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline></span><span style=color:#0000cf;font-weight:700>2023</span><span style=color:#ce5c00;font-weight:700>-</span><span style=color:#0000cf;font-weight:700>02</span><span style=color:#ce5c00;font-weight:700>-</span><span style=color:#0000cf;font-weight:700>06</span><span style=color:#000>T06</span><span style=color:#000;font-weight:700>:</span><span style=color:#0000cf;font-weight:700>33</span><span style=color:#000;font-weight:700>:</span><span style=color:#0000cf;font-weight:700>45</span><span style=color:#000;font-weight:700>.</span><span style=color:#0000cf;font-weight:700>001</span><span style=color:#000>Z</span><span style=color:#f8f8f8;text-decoration:underline>	</span><span style=color:#000>DEBUG</span><span style=color:#f8f8f8;text-decoration:underline>	</span><span style=color:#000>controller</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>aws</span><span style=color:#f8f8f8;text-decoration:underline>	</span><span style=color:#000>discovered</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>region</span><span style=color:#f8f8f8;text-decoration:underline>	</span><span style=color:#a40000>{</span><span style=color:#4e9a06>&#34;commit&#34;</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#4e9a06>&#34;f60dacd&#34;</span><span style=color:#000;font-weight:700>,</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#4e9a06>&#34;region&#34;</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#4e9a06>&#34;eu-central-1&#34;</span><span style=color:#a40000>}</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline></span><span style=color:#0000cf;font-weight:700>2023</span><span style=color:#ce5c00;font-weight:700>-</span><span style=color:#0000cf;font-weight:700>02</span><span style=color:#ce5c00;font-weight:700>-</span><span style=color:#0000cf;font-weight:700>06</span><span style=color:#000>T06</span><span style=color:#000;font-weight:700>:</span><span style=color:#0000cf;font-weight:700>33</span><span style=color:#000;font-weight:700>:</span><span style=color:#0000cf;font-weight:700>45</span><span style=color:#000;font-weight:700>.</span><span style=color:#0000cf;font-weight:700>003</span><span style=color:#000>Z</span><span style=color:#f8f8f8;text-decoration:underline>	</span><span style=color:#000>DEBUG</span><span style=color:#f8f8f8;text-decoration:underline>	</span><span style=color:#000>controller</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>aws</span><span style=color:#f8f8f8;text-decoration:underline>	</span><span style=color:#000>unable</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#204a87;font-weight:700>to</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>detect</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>the</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>IP</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#204a87;font-weight:700>of</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>the</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>kube</span><span style=color:#ce5c00;font-weight:700>-</span><span style=color:#000>dns</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>service</span><span style=color:#000;font-weight:700>,</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>services</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#4e9a06>&#34;kube-dns&#34;</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#204a87;font-weight:700>is</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>forbidden</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#204a87;font-weight:700>User</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#4e9a06>&#34;system:serviceaccount:karpenter:karpenter&#34;</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>cannot</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#204a87;font-weight:700>get</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>resource</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#4e9a06>&#34;services&#34;</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#204a87;font-weight:700>in</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>API</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#204a87;font-weight:700>group</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#4e9a06>&#34;&#34;</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#204a87;font-weight:700>in</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>the</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>namespace</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#4e9a06>&#34;kube-system&#34;</span><span style=color:#f8f8f8;text-decoration:underline>	</span><span style=color:#a40000>{</span><span style=color:#4e9a06>&#34;commit&#34;</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#4e9a06>&#34;f60dacd&#34;</span><span style=color:#a40000>}</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline></span><span style=color:#0000cf;font-weight:700>2023</span><span style=color:#ce5c00;font-weight:700>/</span><span style=color:#0000cf;font-weight:700>02</span><span style=color:#ce5c00;font-weight:700>/</span><span style=color:#0000cf;font-weight:700>06</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#0000cf;font-weight:700>06</span><span style=color:#000;font-weight:700>:</span><span style=color:#0000cf;font-weight:700>33</span><span style=color:#000;font-weight:700>:</span><span style=color:#0000cf;font-weight:700>45</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>Registering</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#0000cf;font-weight:700>2</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>clients</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline></span><span style=color:#0000cf;font-weight:700>2023</span><span style=color:#ce5c00;font-weight:700>/</span><span style=color:#0000cf;font-weight:700>02</span><span style=color:#ce5c00;font-weight:700>/</span><span style=color:#0000cf;font-weight:700>06</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#0000cf;font-weight:700>06</span><span style=color:#000;font-weight:700>:</span><span style=color:#0000cf;font-weight:700>33</span><span style=color:#000;font-weight:700>:</span><span style=color:#0000cf;font-weight:700>45</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>Registering</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#0000cf;font-weight:700>2</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>informer</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>factories</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline></span><span style=color:#0000cf;font-weight:700>2023</span><span style=color:#ce5c00;font-weight:700>/</span><span style=color:#0000cf;font-weight:700>02</span><span style=color:#ce5c00;font-weight:700>/</span><span style=color:#0000cf;font-weight:700>06</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#0000cf;font-weight:700>06</span><span style=color:#000;font-weight:700>:</span><span style=color:#0000cf;font-weight:700>33</span><span style=color:#000;font-weight:700>:</span><span style=color:#0000cf;font-weight:700>45</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>Registering</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#0000cf;font-weight:700>3</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>informers</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline></span><span style=color:#0000cf;font-weight:700>2023</span><span style=color:#ce5c00;font-weight:700>/</span><span style=color:#0000cf;font-weight:700>02</span><span style=color:#ce5c00;font-weight:700>/</span><span style=color:#0000cf;font-weight:700>06</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#0000cf;font-weight:700>06</span><span style=color:#000;font-weight:700>:</span><span style=color:#0000cf;font-weight:700>33</span><span style=color:#000;font-weight:700>:</span><span style=color:#0000cf;font-weight:700>45</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>Registering</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#0000cf;font-weight:700>6</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>controllers</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline></span><span style=color:#0000cf;font-weight:700>2023</span><span style=color:#ce5c00;font-weight:700>-</span><span style=color:#0000cf;font-weight:700>02</span><span style=color:#ce5c00;font-weight:700>-</span><span style=color:#0000cf;font-weight:700>06</span><span style=color:#000>T06</span><span style=color:#000;font-weight:700>:</span><span style=color:#0000cf;font-weight:700>33</span><span style=color:#000;font-weight:700>:</span><span style=color:#0000cf;font-weight:700>45</span><span style=color:#000;font-weight:700>.</span><span style=color:#0000cf;font-weight:700>080</span><span style=color:#000>Z</span><span style=color:#f8f8f8;text-decoration:underline>	</span><span style=color:#000>DEBUG</span><span style=color:#f8f8f8;text-decoration:underline>	</span><span style=color:#000>controller</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>aws</span><span style=color:#f8f8f8;text-decoration:underline>	</span><span style=color:#000>discovered</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#204a87;font-weight:700>version</span><span style=color:#f8f8f8;text-decoration:underline>	</span><span style=color:#a40000>{</span><span style=color:#4e9a06>&#34;commit&#34;</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#4e9a06>&#34;f60dacd&#34;</span><span style=color:#000;font-weight:700>,</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#4e9a06>&#34;version&#34;</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#4e9a06>&#34;v0.20.0&#34;</span><span style=color:#a40000>}</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline></span><span style=color:#0000cf;font-weight:700>2023</span><span style=color:#ce5c00;font-weight:700>-</span><span style=color:#0000cf;font-weight:700>02</span><span style=color:#ce5c00;font-weight:700>-</span><span style=color:#0000cf;font-weight:700>06</span><span style=color:#000>T06</span><span style=color:#000;font-weight:700>:</span><span style=color:#0000cf;font-weight:700>33</span><span style=color:#000;font-weight:700>:</span><span style=color:#0000cf;font-weight:700>45</span><span style=color:#000;font-weight:700>.</span><span style=color:#0000cf;font-weight:700>082</span><span style=color:#000>Z</span><span style=color:#f8f8f8;text-decoration:underline>	</span><span style=color:#000>INFO</span><span style=color:#f8f8f8;text-decoration:underline>	</span><span style=color:#000>controller</span><span style=color:#f8f8f8;text-decoration:underline>	</span><span style=color:#000>Starting</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>server</span><span style=color:#f8f8f8;text-decoration:underline>	</span><span style=color:#a40000>{</span><span style=color:#4e9a06>&#34;commit&#34;</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#4e9a06>&#34;f60dacd&#34;</span><span style=color:#000;font-weight:700>,</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#4e9a06>&#34;path&#34;</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#4e9a06>&#34;/metrics&#34;</span><span style=color:#000;font-weight:700>,</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#4e9a06>&#34;kind&#34;</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#4e9a06>&#34;metrics&#34;</span><span style=color:#000;font-weight:700>,</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#4e9a06>&#34;addr&#34;</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#4e9a06>&#34;[::]:8080&#34;</span><span style=color:#a40000>}</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline></span><span style=color:#0000cf;font-weight:700>2023</span><span style=color:#ce5c00;font-weight:700>-</span><span style=color:#0000cf;font-weight:700>02</span><span style=color:#ce5c00;font-weight:700>-</span><span style=color:#0000cf;font-weight:700>06</span><span style=color:#000>T06</span><span style=color:#000;font-weight:700>:</span><span style=color:#0000cf;font-weight:700>33</span><span style=color:#000;font-weight:700>:</span><span style=color:#0000cf;font-weight:700>45</span><span style=color:#000;font-weight:700>.</span><span style=color:#0000cf;font-weight:700>082</span><span style=color:#000>Z</span><span style=color:#f8f8f8;text-decoration:underline>	</span><span style=color:#000>INFO</span><span style=color:#f8f8f8;text-decoration:underline>	</span><span style=color:#000>controller</span><span style=color:#f8f8f8;text-decoration:underline>	</span><span style=color:#000>Starting</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>server</span><span style=color:#f8f8f8;text-decoration:underline>	</span><span style=color:#a40000>{</span><span style=color:#4e9a06>&#34;commit&#34;</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#4e9a06>&#34;f60dacd&#34;</span><span style=color:#000;font-weight:700>,</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#4e9a06>&#34;kind&#34;</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#4e9a06>&#34;health probe&#34;</span><span style=color:#000;font-weight:700>,</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#4e9a06>&#34;addr&#34;</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#4e9a06>&#34;[::]:8081&#34;</span><span style=color:#a40000>}</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline></span><span style=color:#000>I0206</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#0000cf;font-weight:700>06</span><span style=color:#000;font-weight:700>:</span><span style=color:#0000cf;font-weight:700>33</span><span style=color:#000;font-weight:700>:</span><span style=color:#0000cf;font-weight:700>45</span><span style=color:#000;font-weight:700>.</span><span style=color:#0000cf;font-weight:700>182600</span><span style=color:#f8f8f8;text-decoration:underline>       </span><span style=color:#0000cf;font-weight:700>1</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>leaderelection</span><span style=color:#000;font-weight:700>.</span><span style=color:#204a87;font-weight:700>go</span><span style=color:#000;font-weight:700>:</span><span style=color:#0000cf;font-weight:700>248</span><span style=color:#000;font-weight:700>]</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>attempting</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#204a87;font-weight:700>to</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>acquire</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>leader</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>lease</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>karpenter</span><span style=color:#ce5c00;font-weight:700>/</span><span style=color:#000>karpenter</span><span style=color:#ce5c00;font-weight:700>-</span><span style=color:#000>leader</span><span style=color:#ce5c00;font-weight:700>-</span><span style=color:#000>election</span><span style=color:#000;font-weight:700>...</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline></span><span style=color:#0000cf;font-weight:700>2023</span><span style=color:#ce5c00;font-weight:700>-</span><span style=color:#0000cf;font-weight:700>02</span><span style=color:#ce5c00;font-weight:700>-</span><span style=color:#0000cf;font-weight:700>06</span><span style=color:#000>T06</span><span style=color:#000;font-weight:700>:</span><span style=color:#0000cf;font-weight:700>33</span><span style=color:#000;font-weight:700>:</span><span style=color:#0000cf;font-weight:700>45</span><span style=color:#000;font-weight:700>.</span><span style=color:#0000cf;font-weight:700>226</span><span style=color:#000>Z</span><span style=color:#f8f8f8;text-decoration:underline>	</span><span style=color:#000>INFO</span><span style=color:#f8f8f8;text-decoration:underline>	</span><span style=color:#000>controller</span><span style=color:#f8f8f8;text-decoration:underline>	</span><span style=color:#000>Starting</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>informers</span><span style=color:#000;font-weight:700>...</span><span style=color:#f8f8f8;text-decoration:underline>	</span><span style=color:#a40000>{</span><span style=color:#4e9a06>&#34;commit&#34;</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#4e9a06>&#34;f60dacd&#34;</span><span style=color:#a40000>}</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline></span><span style=color:#0000cf;font-weight:700>2023</span><span style=color:#ce5c00;font-weight:700>-</span><span style=color:#0000cf;font-weight:700>02</span><span style=color:#ce5c00;font-weight:700>-</span><span style=color:#0000cf;font-weight:700>06</span><span style=color:#000>T06</span><span style=color:#000;font-weight:700>:</span><span style=color:#0000cf;font-weight:700>33</span><span style=color:#000;font-weight:700>:</span><span style=color:#0000cf;font-weight:700>45</span><span style=color:#000;font-weight:700>.</span><span style=color:#0000cf;font-weight:700>417</span><span style=color:#000>Z</span><span style=color:#f8f8f8;text-decoration:underline>	</span><span style=color:#000>INFO</span><span style=color:#f8f8f8;text-decoration:underline>	</span><span style=color:#000>controller</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>aws</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>pricing</span><span style=color:#f8f8f8;text-decoration:underline>	</span><span style=color:#000>updated</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>spot</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>pricing</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#204a87;font-weight:700>with</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>instance</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>types</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#204a87;font-weight:700>and</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>offerings</span><span style=color:#f8f8f8;text-decoration:underline>	</span><span style=color:#a40000>{</span><span style=color:#4e9a06>&#34;commit&#34;</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#4e9a06>&#34;f60dacd&#34;</span><span style=color:#000;font-weight:700>,</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#4e9a06>&#34;instance-type-count&#34;</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#0000cf;font-weight:700>607</span><span style=color:#000;font-weight:700>,</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#4e9a06>&#34;offering-count&#34;</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#0000cf;font-weight:700>1400</span><span style=color:#a40000>}</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline></span><span style=color:#0000cf;font-weight:700>2023</span><span style=color:#ce5c00;font-weight:700>-</span><span style=color:#0000cf;font-weight:700>02</span><span style=color:#ce5c00;font-weight:700>-</span><span style=color:#0000cf;font-weight:700>06</span><span style=color:#000>T06</span><span style=color:#000;font-weight:700>:</span><span style=color:#0000cf;font-weight:700>33</span><span style=color:#000;font-weight:700>:</span><span style=color:#0000cf;font-weight:700>47</span><span style=color:#000;font-weight:700>.</span><span style=color:#0000cf;font-weight:700>670</span><span style=color:#000>Z</span><span style=color:#f8f8f8;text-decoration:underline>	</span><span style=color:#000>INFO</span><span style=color:#f8f8f8;text-decoration:underline>	</span><span style=color:#000>controller</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>aws</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>pricing</span><span style=color:#f8f8f8;text-decoration:underline>	</span><span style=color:#000>updated</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#204a87;font-weight:700>on</span><span style=color:#ce5c00;font-weight:700>-</span><span style=color:#000>demand</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>pricing</span><span style=color:#f8f8f8;text-decoration:underline>	</span><span style=color:#a40000>{</span><span style=color:#4e9a06>&#34;commit&#34;</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#4e9a06>&#34;f60dacd&#34;</span><span style=color:#000;font-weight:700>,</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#4e9a06>&#34;instance-type-count&#34;</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#0000cf;font-weight:700>505</span><span style=color:#a40000>}</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span></code></pre></div><h2 id=operator-affinities>Operator Affinities:</h2><p><img alt="Screenshot from 2023-02-21 11-26-36.png" src=https://s3-us-west-2.amazonaws.com/secure.notion-static.com/90052686-7c87-413f-95f7-41c12d233190/Screenshot_from_2023-02-21_11-26-36.png></p><h2 id=deploy-operator-with-clickhouse-keeper>Deploy operator with clickhouse-keeper</h2><p><a href=https://github.com/Altinity/clickhouse-operator/issues/959 target=_blank>https://github.com/Altinity/clickhouse-operator/issues/959</a>
<a href=https://github.com/Altinity/clickhouse-operator/blob/eb3fc4e28514d0d6ea25a40698205b02949bcf9d/docs/chi-examples/03-persistent-volume-07-do-not-chown.yaml target=_blank>setup-example.yaml</a></p><h2 id=possible-issues-with-running-clickhouse-in-k8s>Possible issues with running ClickHouse in K8s</h2><p>The biggest problem with running ClickHouse® in K8s, happens when clickhouse-server can&rsquo;t start for some reason and pod is falling in CrashloopBackOff, so you can&rsquo;t easily get in the pod and check/fix/restart ClickHouse.</p><p>There is multiple possible reasons for this, some of them can be fixed without manual intervention in pod:</p><ol><li>Wrong configuration files Fix: Check templates which are being used for config file generation and fix them.</li><li>While upgrade some backward incompatible changes prevents ClickHouse from start. Fix: Downgrade and check backward incompatible changes for all versions in between.</li></ol><p>Next reasons would require to have manual intervention in pod/volume.
There is two ways, how you can get access to data:</p><ol><li>Change entry point of ClickHouse pod to something else, so pod wouldn’t be terminated due ClickHouse error.</li><li>Attach ClickHouse data volume to some generic pod (like Ubuntu).</li><li>Unclear restart which produced broken files and/or state on disk is differs too much from state in zookeeper for replicated tables. Fix: Create <code>force_restore_data</code> flag.</li><li>Wrong file permission for ClickHouse files in pod. Fix: Use chown to set right ownership for files and directories.</li><li>Errors in ClickHouse table schema prevents ClickHouse from start. Fix: Rename problematic <code>table.sql</code> scripts to <code>table.sql.bak</code></li><li>Occasional failure of distributed queries because of wrong user/password. Due nature of k8s with dynamic ip allocations, it&rsquo;s possible that ClickHouse would cache wrong ip-> hostname combination and disallow connections because of mismatched hostname. Fix: run <code>SYSTEM DROP DNS CACHE;</code> <code>&lt;disable_internal_dns_cache>1&lt;/disable_internal_dns_cache></code> in config.xml.</li></ol><p>Caveats:</p><ol><li>Not all configuration/state folders are being covered by persistent volumes. (<a href=https://clickhouse.tech/docs/en/sql-reference/functions/ym-dict-functions/#multiple-geobases target=_blank rel=nofollow>geobases</a>
)</li><li>Page cache belongs to k8s node and pv are being mounted to pod, in case of fast shutdown there is possibility to loss some data(needs to be clarified)</li><li>Some cloud providers (GKE) can have slow unlink command, which is important for ClickHouse because it&rsquo;s needed for parts management. (<code>max_part_removal_threads</code> setting)</li></ol><p>Useful commands:</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>kubectl logs chi-chcluster-2-1-0 -c clickhouse-pod -n chcluster --previous
</span></span><span style=display:flex><span>kubectl describe pod chi-chcluster-2-1-0 -n chcluster
</span></span></code></pre></div><p>Q. ClickHouse is caching the Kafka pod&rsquo;s IP and trying to connect to the same ip even when there is a new Kafka pod running and the old one is deprecated. Is there some setting where we could refresh the connection</p><p><code>&lt;disable_internal_dns_cache>1&lt;/disable_internal_dns_cache></code> in config.xml</p><h3 id=clickhouse-init-process-failed>ClickHouse init process failed</h3><p>It&rsquo;s due to low value for env <code>CLICKHOUSE_INIT_TIMEOUT</code> value. Consider increasing it up to 1 min.
<a href=https://github.com/ClickHouse/ClickHouse/blob/9f5cd35a6963cc556a51218b46b0754dcac7306a/docker/server/entrypoint.sh#L120 target=_blank>https://github.com/ClickHouse/ClickHouse/blob/9f5cd35a6963cc556a51218b46b0754dcac7306a/docker/server/entrypoint.sh#L120</a></p><div class=section-index><hr class=panel-line><div class=entry><h5><a href=/altinity-kb-kubernetes/altinity-kb-istio-user-issue-k8s/>Istio Issues</a></h5><p>Working with the popular service mesh</p></div></div><div class=td-page-meta__lastmod>Last modified 2024.12.03: <a href=https://github.com/Altinity/altinityknowledgebase/commit/6328eab05a21aa2395d643a993d7ab7eb6cd7704>Removed Zendesk link (6328eab)</a></div></div></main></div></div><footer class="bg-dark py-5 row d-print-none"><div class="container-fluid mx-sm-5"><div class="row footer-inner pb-3"><div class=col-12><a href=https://altinity.com target=_blank><img src=/images/general/altinity-logo_horizontal_blue_white.svg width=154 alt=Altinity.com></a></div></div><div class="row footer-inner py-3"><div class="col-12 col-sm-6 col-md-3"><ul class="nav flex-column mb-3"><li class=nav-item><b>PRODUCT</b></li><li class=nav-item><a href=https://altinity.com/managed-clickhouse/ target=_blank>Altinity.Cloud</a></li><li class=nav-item><a href=https://altinity.com/clickhouse-support/ target=_blank>Support for ClickHouse</a></li><li class=nav-item><a href=https://altinity.com/clickhouse-training target=_blank>Training for ClickHouse</a></li><li class=nav-item><a href=https://altinity.com/clickhouse-pricing/ target=_blank>Altinity.Cloud Pricing</a></li><li class=nav-item><a href=https://altinity.com/plans-and-features-clickhouse/ target=_blank>Altinity Plans and Features</a></li></ul><div class="d-none d-md-block mb-3"><img decoding=async style="width:60px;display:inline-block;margin:0 10px 0 0" src=/images/general/soc.webp alt="SOC Certified"><img decoding=async style=width:60px;display:inline-block;margin:0 src=/images/general/soc2.webp alt="SOC2 TYPE II Certified"></div></div><div class="col-12 col-sm-6 col-md-3"><ul class="nav flex-column mb-3"><li class=nav-item><b>RESOURCES</b></li><li class=nav-item><a href=https://altinity.com/blog target=_blank>Blog</a></li><li class=nav-item><a href=https://docs.altinity.com/ target=_blank>Documentation</a></li><li class=nav-item><a href=https://kb.altinity.com/ target=_blank>Knowledge Base</a></li><li class=nav-item><a href=https://altinity.com/releases target=_blank>Altinity Stable Builds</a></li><li class=nav-item><a href=https://hubs.la/Q02pLTV20 target=_blank>Kubernetes Operator</a></li><li class=nav-item><a href=https://altinity.com/ecosystem/ target=_blank>Altinity Open Source Projects</a></li><li class=nav-item><a href=https://altinity.com/events/ target=_blank>Events</a></li></ul></div><div class="col-12 col-sm-6 col-md-3"><ul class="nav flex-column mb-3"><li class=nav-item><b>COMPANY</b></li><li class=nav-item><a href=https://altinity.com/about-us/ target=_blank>About Altinity</a></li><li class=nav-item><a href=https://altinity.com/about-us/press-releases target=_blank>Press Releases</a></li><li class=nav-item><a href=https://altinity.com/partners/ target=_blank>Partners</a></li><li class=nav-item><a href=https://altinity.com/customer-stories/ target=_blank>Customer Stories</a></li><li class=nav-item><a href=https://altinity.com/careers/ target=_blank>Careers</a></li><li class=nav-item><a href=https://altinity.com/contact/ target=_blank>Contact Us</a></li></ul></div><div class="col-12 col-sm-6 col-md-3">Get the latest ClickHouse news straight to your inbox every month.<br><a href=https://altinity.com/newsletter/ target=_blank class="btn btn-primary my-3" style=border-radius:1.5rem>Sign Up</a></div></div></div><div class="row footer-inner pb-3"><div class="col-12 col-sm-6 text-left text-xs-center py-2"><small class=text-white>&copy; 2026 Altinity Inc. Altinity®, Altinity.Cloud®, and Altinity Stable® are registered trademarks of Altinity, Inc. ClickHouse® is a registered trademark of ClickHouse, Inc.; Altinity is not affiliated with or associated with ClickHouse, Inc. Kafka, Kubernetes, MySQL, and PostgreSQL are trademarks and property of their respective owners. All Rights Reserved</small>
<small class=ml-1><a href=https://altinity.com/privacy-policy/ target=_blank>Privacy Policy</a></small></div><div class="col-12 col-sm-6 text-end text-xs-center"><ul class="list-inline mb-0"><li class="list-inline-item mx-2 h3" data-toggle=tooltip data-placement=top title=Slack aria-label=Slack><a class=text-white target=_blank rel="noopener noreferrer" href=https://altinity.com/slack><i class="fab fa-slack"></i></a></li><li class="list-inline-item mx-2 h3" data-toggle=tooltip data-placement=top title=X aria-label=X><a class=text-white target=_blank rel="noopener noreferrer" href=https://twitter.com/AltinityDB><i class="fab fa-twitter"></i></a></li><li class="list-inline-item mx-2 h3" data-toggle=tooltip data-placement=top title=LinkedIn aria-label=LinkedIn><a class=text-white target=_blank rel="noopener noreferrer" href=https://www.linkedin.com/company/altinity/><i class="fab fa-linkedin"></i></a></li><li class="list-inline-item mx-2 h3" data-toggle=tooltip data-placement=top title=Youtube aria-label=Youtube><a class=text-white target=_blank rel="noopener noreferrer" href=https://www.youtube.com/channel/UCE3Y2lDKl_ZfjaCrh62onYA><i class="fab fa-youtube"></i></a></li><li class="list-inline-item mx-2 h3" data-toggle=tooltip data-placement=top title=GitHub aria-label=GitHub><a class=text-white target=_blank rel="noopener noreferrer" href=https://github.com/Altinity/altinityknowledgebase><i class="fab fa-github"></i></a></li><li class="list-inline-item mx-2 h3" data-toggle=tooltip data-placement=top title=Reddit aria-label=Reddit><a class=text-white target=_blank rel="noopener noreferrer" href=https://www.reddit.com/r/Clickhouse/><i class="fab fa-reddit"></i></a></li></ul></div></div></div><script async src="https://www.googletagmanager.com/gtag/js?id=UA-101676615-2"></script><script type=text/javascript id=hs-script-loader async defer src=//js.hs-scripts.com/4536206.js></script><script type=text/javascript>!function(){var e,t="06536e793668baa",n=function(){Reo.init({clientID:"06536e793668baa"})};(e=document.createElement("script")).src="https://static.reo.dev/"+t+"/reo.js",e.defer=!0,e.onload=n,document.head.appendChild(e)}()</script><script>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","UA-101676615-2")</script><script>$(document).ready(function(){$(".mobile-drop-toggle").on("click",function(){$(this).parent().parent().toggleClass("active")})})</script></footer><script type=text/javascript>_linkedin_partner_id="1601132",window._linkedin_data_partner_ids=window._linkedin_data_partner_ids||[],window._linkedin_data_partner_ids.push(_linkedin_partner_id)</script><script type=text/javascript>(function(e){e||(window.lintrk=function(e,t){window.lintrk.q.push([e,t])},window.lintrk.q=[]);var n=document.getElementsByTagName("script")[0],t=document.createElement("script");t.type="text/javascript",t.async=!0,t.src="https://snap.licdn.com/li.lms-analytics/insight.min.js",n.parentNode.insertBefore(t,n)})(window.lintrk)</script><noscript><img height=1 width=1 style=display:none alt src="https://px.ads.linkedin.com/collect/?pid=1601132&fmt=gif"></noscript></div><script src=/js/main.min.69e2c1ae9320465ab10236d9ef752c6a4442c54b48b883b17c497b7c7d96a796.js integrity="sha256-aeLBrpMgRlqxAjbZ73UsakRCxUtIuIOxfEl7fH2Wp5Y=" crossorigin=anonymous></script><script src=/js/prism.js></script><script src=/js/tabpane-persist.js></script></body></html>